binkp сетевой протокол прикладного уровня разработанный для передачи файлов фидонете или других ftn сетях происходящей поверх tcp соединения как правило для связи по данному протоколу используют tcp порт так как этот номер зарезервирован под binkp каталоге iana internet assigned numbers authority существуют две версии протокола binkp оригинальная дополненная кроме того разработано несколько расширений протокола протокол бо льшая часть его расширений оформлены стандартами предложениями ftsc уровень разрешает приложениям пользователя иметь доступ сетевым службам таким как обработчик запросов базам данных доступ файлам пересылке электронной почты также отвечает за передачу служебной информации предоставляет приложениям информацию об ошибках формирует запросы уровню представления пример http pop smtp история создания после того как интернет стал все более распространён доступен возникла потребность использовать его для междугородних линков фидонет вместо обычных телефонных сетей сети искра реализации виртуальных модемов rlfossil vmodem решали задачу недостаточно эффективно мейлере ifcico была реализована возможность прямой связи между фидошными мейлерами по tcp но по прежнему использовались протоколы предназначенные для не дающего гарантии доставки транспорта emsi zmodem потому неэффективные для применения поверх tcp такой ситуации дмитрий малов разработал протокол binkp поддерживающий его мейлер binkd этот протокол мейлер могли работать только поверх tcp они не предназначены для работы по обычным телефонным линиям этом было их преимущество перед остальными протоколами binkp достаточно быстро потеснил остальные варианты fido over inet концу года если судить по флагам нодлисте binkp уже был наиболее из протоколов fido over ip кроме того протокол binkp был изначально документирован его реализация binkd свободная программа что тоже являлось существенным преимуществом binkp binkd перед другими протоколами этого применения впоследствии появились реализации протокола binkp других мейлерах argus bforce qico mbico номер порта был как утверждает автор номером его домашнего телефона магадане структура протокола взаимодействие происходит одной tcp сессии благодаря чему протокол работает через ip nat стороны обмениваются между собой кадрами ограниченного размера не более по умолчанию каждом кадре могут передаваться либо данные либо управляющая команда за счёт этого достигается протокола во время отправки файла одна из сторон может вклинить поток данных кадр командой подтверждения приёма файла таким образом приём передача происходят практически независимо друг от друга одновременно одной tcp сессии кроме того изначально было введено понятие потока то есть отправляющая сторона не ожидает подтверждения приёма предыдущего файла для отправки следующего это существенно повышает эффективность протокола по сравнению другими аналогичными также протокол были заложены возможности его последующего развития добавления новых опциональных возможностей либо изменение версии протокола поддерживаемые версии набор опциональных расширений стороны объявляют друг другу начале сеанса связи binkp работает через двунаправленный символьный канал не допускающий ошибок при передаче данных любые данные записываемые каждой из сторон канал имеют следующий общий формат binkp кадр блок данных сообщение команда размер блока данных размер аргументов блок данных аргументы заголовок кадра два байта определяющие тип длину байтах данных следующих за заголовком если старший бит заголовка сброшен то все данные поступившие кадром следует дописать текущему принимаемому файлу если такой файл уже открыт иначе отбросить противном случае данные следует разобрать как команду меняющую состояние протокола первый байт данных поступивших кадром номер команды оставшиеся аргумент аргументы команд произвольный набор символов не обязательно ограниченный команда без аругментов например m_ok может выглядеть примерно так номер команды аргументов нет длина кадра без заголовка байт это команда основные расширения по мере развития протокола него были добавлены многие новые возможности вот основные из них возможность дополнения очереди на отправку без обрыва соединения это основное отличие binkp от частности возможность отработки файловых запросов возможность безопасной передачи пароля по открытым каналам связи использованием хеша md возможность шифрования всего трафика возможность компрессии трафика защита от повторной передачи файла случае обрыва связи при подтверждении приёма nd mode см также dns distributed nodelist примечания ссылки описание протокола binkp описание протокола binkp полная спецификация протокола ftsc fts категория протоколы прикладного уровня категория фидонет категория интернет протоколы