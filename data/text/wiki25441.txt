маршрутизация процесс определения маршрута следования данных сетях связи маршруты могут задаваться административно статические маршруты либо вычисляться помощью алгоритмов маршрутизации базируясь на информации топологии состоянии сети полученной помощью протоколов маршрутизации динамические маршруты статическими маршрутами могут быть маршруты не изменяющиеся во времени маршруты изменяющиеся по расписанию маршрутизация компьютерных сетях выполняется специальными программно аппаратными средствами простых конфигурациях может выполняться компьютерами общего назначения соответственно настроенными протоколы протокол маршрутизации может работать только пакетами принадлежащими одному из протоколов например ip ipx или xerox network system appletalk протоколы определяют формат пакетов заголовков важнейшей информацией из которых для маршрутизации является адрес назначения протоколы не поддерживающие маршрутизацию могут передаваться между сетями помощью туннелей подобные возможности обычно предоставляют программные маршрутизаторы некоторые модели аппаратных маршрутизаторов программная аппаратная маршрутизация первые маршрутизаторы представляли собой по обрабатывающее приходящие ip пакеты специфичным образом это по работало на компьютерах которых было несколько сетевых интерфейсов входящих состав различных сетей между которыми осуществляется маршрутизация дальнейшем появились маршрутизаторы форме устройств компьютеры по называют программные маршрутизаторы оборудование аппаратные маршрутизаторы современных аппаратных маршрутизаторах для построения таблиц маршрутизации используется по прошивка для обработки же ip пакетов используется коммутационная матрица или другая технология аппаратной коммутации расширенная фильтрами адресов заголовке ip пакета аппаратная маршрутизация выделяют два типа аппаратной маршрутизации со статическими шаблонами потоков динамически адаптируемыми таблицами статические шаблоны подразумевают разделение всех входящих маршрутизатор ip пакетов на виртуальные потоки каждый поток характеризуется набором признаков для пакета такие как ip адресами отправителя получателя tcp udp порт отправителя получателя случае поддержки маршрутизации на основании информации уровня порт через который пришёл пакет оптимизация маршрутизации при этом строится на идее что все пакеты одинаковыми признаками должны обрабатываться одинаково по одинаковым правилам при этом признаки проверяются только для первого пакета потоке при появлении пакета набором признаков не укладывающимся существующие потоки создаётся новый поток по результатам анализа этого пакета формируется статический шаблон который используется для определения правил коммутации приходящих пакетов внутри потока обычно время хранения шаблона ограничено для освобождения ресурсов маршрутизатора ключевым недостатком подобной схемы является инерционность по отношению изменению таблицы маршрутизации случае существующего потока изменение правил маршрутизации пакетов не будет замечено до момента удаления шаблона динамически адаптируемые таблицы используют правила маршрутизации напрямую используя маску номер сети из таблицы маршрутизации для проверки пакета определения порта на который нужно передать пакет при этом изменения таблице маршрутизации результате работы например протоколов маршрутизации резервирования сразу же влияют на обработку всех новопришедших пакетов динамически адаптируемые таблицы также позволяют легко реализовывать быструю аппаратную проверку списков доступа программная маршрутизация программная маршрутизация выполняется либо по маршрутизаторов случае когда аппаратные методы не могут быть использованы например случае организации туннелей либо программным обеспечением на компьютере общем случае любой компьютер осуществляет маршрутизацию своих собственных исходящих пакетов как минимум для разделения пакетов отправляемых на шлюз по умолчанию пакетов предназначенных узлам локальном сегменте сети для маршрутизации чужих ip пакетов также построения таблиц маршрутизации используется различное по сервис rras windows server демоны routed gated quagga unix подобных операционных системах linux freebsd маршрутизация сети интернет маршрутизация сети интернет основана на протоколах tcp ip передача информации осуществляется помощью ip пакетов заголовок каждого ip пакета содержит ip адреса получателя отправителя пакета каждый пакет обрабатывается маршрутизатором соответствии его таблицей маршрутизации таблица свою очередь содержит информацию компьютеру каким адресом направлять пакеты тем или иным диапазоном адресов например все пакеты определённого диапазона могут направляться другому маршрутизатору который отвечает за этот сегмент ряде случаев маршрутизатор может преобразовывать заголовок пакета заменяя адреса отправителя или получателя пакета частности это происходит при взаимодействии локальной сети имеющей свои адреса глобальной сетью интернет этом случае локальная сеть может быть видна извне по одному глобальному ip адресу для того чтобы маршрутизатор мог направлять пакеты одним глобальным адресом тем или иным получателям локальной сети используется таблица nat где помимо ip адресов указываются порты приложения устанавливающие соединение при этом номера портов указаны не заголовке ip пакета заголовке сегмента tcp либо udp сегменты инкапсулируются поле данных ip пакетов это позволяет осуществлять взаимно однозначную идентификацию получателя отправителя тех случаях когда за одним глобальным адресом находится множество компьютеров локальных сетей пример таблицы nat глобальный адрес локальный адрес см также таблица маршрутизации предотвращение петель маршрутизации теория графов литература примечания