файл ata on mainboard jpg thumb разъёмы ata контроллера на материнской плате два снизу синий первичный primary черный вторичный secondary ata или ide параллельный интерфейс подключения накопителей жёстких дисков оптических дисководов компьютеру годы был стандартом на платформе ibm pc настоящее время вытеснен своим последователем sata его появлением получил название pata parallel ata история шлейфы ata ide проводной сверху проводной кабельной выборкой снизу предварительное название интерфейса было pc at attachment соединение pc at так как он предназначался для подсоединения битной шине isa известной тогда как шина at окончательной версии название переделали at attachment для избежания проблем торговыми марками первоначальная версия стандарта была разработана году фирмой western digital по маркетинговым соображениям получила название ide электроника встроенная привод оно подчеркивало важное нововведение контроллер привода располагается нём самом не виде отдельной платы расширения как предшествующем стандарте st существовавших тогда интерфейсах scsi st это позволило улучшить характеристики накопителей за счёт меньшего расстояния до контроллера упростить управление им так как контроллер канала ide абстрагировался от деталей работы привода удешевить производство контроллер привода мог быть рассчитан только на свой привод не на все возможные контроллер канала же вообще становился стандартным следует отметить что контроллер канала ide правильнее называть хост адаптером поскольку он перешёл от прямого управления приводом обмену данными ним по протоколу стандарте ата определён интерфейс между контроллером накопителем также передаваемые по нему команды интерфейс имеет регистров занимающих адресов пространстве ввода вывода ширина шины данных составляет бит количество каналов присутствующих системе может быть больше главное чтобы адреса каналов не пересекались адресами других устройств ввода вывода каждому каналу можно подключить устройства master slave но каждый момент времени может работать лишь одно устройство принцип адресации chs заложен названии сперва блок головок устанавливается позиционером на требуемую дорожку cylinder после этого выбирается требуемая головка head затем считывается информация из требуемого сектора sector стандарт eide расширенный ide появившийся вслед за ide позволял использование приводов ёмкостью превышающей мб миб вплоть до гб хотя эти аббревиатуры возникли как торговые не официальные названия стандарта термины ide eide часто употребляются вместо термина ata после введения году стандарта serial ata ata традиционный ata стали именовать parallel ata имея виду способ передачи данных по параллельному или жильному кабелю поначалу этот интерфейс использовался жёсткими дисками но затем стандарт был расширен для работы другими устройствами основном использующими сменные носители числу таких устройств относятся приводы cd rom dvd rom ленточные накопители также дискеты большой ёмкости такие как zip флоптические используют магнитные головки лазерным наведением диски ls кроме того из файла конфигурации ядра freebsd можно сделать вывод что на шину atapi подключали даже накопители на гибких магнитных дисках дискета этот расширенный стандарт получил название advanced technology attachment packet interface atapi связи чем полное наименование стандарта выглядит как ata atapi atapi практически полностью совпадает со scsi на уровне команд по сути есть scsi по ata кабелю первоначально интерфейсы для подключения приводов cd rom не были стандартизованы являлись проприетарными разработками производителей приводов результате для подключения cd rom было необходимо устанавливать отдельную плату расширения специфичную для конкретного производителя например для panasonic существовало не менее специфичных вариантов интерфейсов предназначенных для подключения cd rom некоторые варианты звуковых карт например sound blaster оснащались именно такими портами часто привод cd rom звуковая плата поставлялись виде мультимедиа комплекта появление atapi позволило всю эту периферию дать возможность подключать её любому контроллеру которому можно подключить жесткий диск другим важным этапом развитии ata стал переход от pio программный ввод вывод dma прямой доступ памяти при использовании pio считыванием данных диска управлял центральный процессор компьютера что приводило повышенной нагрузке на процессор замедлению работы целом по причине этого компьютеры использовавшие интерфейс ata обычно выполняли операции связанные диском медленнее чем компьютеры использовавшие scsi другие интерфейсы введение dma существенно снизило затраты процессорного времени на операции диском данной технологии потоком данных управляет сам накопитель считывая данные память или из памяти почти без участия процессора который выдаёт лишь команды на выполнение того или иного действия при этом жёсткий диск выдаёт сигнал запроса dmarq на операцию dma контроллеру если операция dma возможна контроллер выдаёт сигнал dmack жёсткий диск начинает выдавать данные регистр data которого контроллер считывает данные память без участия процессора операция dma возможна если режим поддерживается одновременно bios контроллером операционной системой противном случае возможен лишь режим pio дальнейшем развитии стандарта ата был введён дополнительный режим ultradma udma этот режим имеет временные характеристики dma mode однако данные передаются по переднему по заднему фронту сигнала dior diow это вдвое увеличивает скорость передачи данных по интерфейсу также введена проверка на чётность crc что повышает надёжность передачи информации истории развития ata был ряд барьеров связанных организацией доступа данным большинство из этих барьеров благодаря современным системам адресации технике были преодолены их числу относятся ограничения на максимальный размер диска миб около гиб около гиб гиб существовали другие барьеры основном связанные драйверами устройств организацией ввода вывода операционных системах не соответствующих стандартам ata оригинальная спецификация ата предусматривала битный режим адресации это позволяло адресовать секторов по байт каждый что давало максимальную ёмкость гб гиб стандартных pc bios поддерживал до гиб гб допуская максимум цилиндра головок сектора это ограничение на число цилиндров головок секторов chs cyllinder head sector сочетании со стандартом ide привело ограничению адресуемого пространства миб мб для преодоления этого ограничения была введена схема адресации lba logical block address что позволило адресовать до гиб со временем это ограничение было снято что позволило адресовать сначала гиб затем все гиб используя все разрядов ата для адресации сектора запись битного числа организована путём записи его частей соответствующие регистры накопителя по бит регистр адресация регистров организована при помощи трёх адресных линий da da первый регистр адресом является разрядным используется для передачи данных между диском контроллером остальные регистры битные используются для управления новейшие спецификации ata предполагают битную адресацию расширяя таким образом возможный предел до пиб петабайт эти ограничения на размер могут проявляться том что система думает что объём диска меньше его реального значения или вовсе отказывается загружаться виснет на стадии инициализации жёстких дисков некоторых случаях проблему удаётся решить обновлением bios другим возможным решением является использование специальных программ таких как ontrack diskmanager загружающих память свой драйвер до загрузки операционной системы недостатком таких решений является то что используется нестандартная разбивка диска при которой разделы диска оказываются недоступны случае загрузки например обычной dos овской загрузочной дискеты впрочем многие современные операционные системы начиная от windows nt sp могут работать дисками большего размера даже если bios компьютера этот размер корректно не определяет интерфейс ata для подключения жёстких дисков интерфейсом pata обычно используется проводный кабель именуемый также шлейфом каждый шлейф обычно имеет два или три разъёма один из которых подключается разъёму контроллера на материнской плате более старых компьютерах этот контроллер размещался на отдельной плате расширения один или два других подключаются дискам один момент времени шлейф ata передаёт бит данных иногда встречаются шлейфы ide позволяющие подключение трёх дисков одному ide каналу но этом случае один из дисков работает режиме read only разводка parallel ata контакт назначение контакт назначение reset ground data data data data data data data data data data data data data data data data ground key ddrq ground write ground read ground ioc hrdy cable select ddack ground irq no connect addr gpio_dma addr addr chip select chip select activity ground долгое время шлейф ata содержал проводников но введением режима ultra dma udma появилась его проводная версия все дополнительные проводники это проводники заземления чередующиеся информационными проводниками таким образом вместо семи проводников заземления их стало такое чередование проводников уменьшает ёмкостную связь между ними тем самым сокращая взаимные наводки ёмкостная связь является проблемой при высоких скоростях передачи поэтому данное нововведение было необходимо для обеспечения нормальной работы установленной спецификацией udma скорости передачи мб мегабайт секунду более быстрые режимы udma udma также требуют проводного кабеля хотя число проводников удвоилось число контактов осталось прежним как внешний вид разъёмов внутренняя же разводка конечно другая разъёмы для проводного кабеля должны присоединять большое число проводников заземления небольшому числу контактов заземления то время как проводном кабеле проводники присоединяются каждый своему контакту проводных кабелей разъёмы обычно имеют различную расцветку синий серый чёрный отличие от проводных где обычно все разъёмы одного цвета чаще чёрные стандарт ata всегда устанавливал максимальную длину кабеля равной см дюймов это ограничение затрудняет присоединение устройств больших корпусах или подключение нескольких приводов одному компьютеру почти полностью исключает возможность использования дисков pata качестве внешних дисков хотя продаже широко распространены кабели большей длины следует иметь виду что они не соответствуют стандарту то же самое можно сказать по поводу круглых кабелей которые также широко распространены стандарт ata описывает только плоские кабели конкретными полного ёмкостного сопротивлений это конечно не означает что другие кабели не будут работать но любом случае использованию нестандартных кабелей следует относиться осторожностью если одному шлейфу подключены два устройства одно из них обычно называется ведущим другое ведомым обычно ведущее устройство идёт перед ведомым списке дисков перечисляемых bios ом компьютера или операционной системы старых bios ах раньше диски часто неверно обозначались буквами для ведущего диска для ведомого если на шлейфе только один привод он большинстве случаев должен быть сконфигурирован как ведущий некоторые диски частности производства western digital имеют специальную настройку именуемую single то есть один диск на кабеле впрочем большинстве случаев единственный привод на кабеле может работать как ведомый такое часто встречается при подключении cd rom на отдельный канал настройка именуемая cable select то есть выбор определяемый кабелем кабельная выборка была описана как опциональная спецификации ata стала широко распространена начиная ata поскольку исключает необходимость переставлять перемычки на дисках при любых если привод установлен режим cable select он автоматически устанавливается как ведущий или ведомый зависимости от своего местоположения на шлейфе для обеспечения возможности определения этого местоположения шлейф должен быть кабельной выборкой такого шлейфа контакт csel не подключен одному из разъёмов серого цвета обычно средний контроллер заземляет этот контакт если привод видит что контакт заземлён то есть на нём логический он устанавливается как ведущий противном случае состояние как ведомый во времена использования проводных кабелей широко практика осуществлять установку cable select путём простого перерезания проводника между двумя разъёмами подключавшимися дискам при этом ведомый привод оказывался на конце кабеля ведущий середине такое размещение поздних версиях спецификации было даже когда на кабеле размещается только одно устройство такое размещение приводит появлению ненужного куска кабеля на конце что нежелательно как из соображений удобства так по физическим параметрам этот кусок приводит отражению сигнала особенно на высоких частотах проводные кабели введённые для udma лишены указанных недостатков теперь ведущее устройство всегда находится конце шлейфа так что если подключено только одно устройство не получается этого ненужного куска кабеля кабельная же выборка них заводская сделанная самом разъёме просто путём исключения данного контакта поскольку для проводных шлейфов любом случае требовались собственные разъёмы повсеместное внедрение этого не составило больших проблем стандарт также требует использования разъёмов разных цветов для более простой идентификации их как производителем так сборщиком синий разъём предназначен для подключения контроллеру чёрный ведущему устройству серый ведомому термины ведущий ведомый были заимствованы из промышленной электроники где указанный принцип широко используется при взаимодействии узлов устройств но данном случае являются некорректными потому не используются текущей версии стандарта ata более правильно называть ведущий ведомый диски соответственно device устройство device устройство существует миф что ведущий диск руководит доступом дисков каналу на самом деле управление доступом дисков очерёдностью выполнения команд осуществляет контроллер которым свою очередь управляет драйвер операционной системы то есть фактически оба устройства являются ведомыми по отношению контроллеру версии стандарта ata скорость передачи свойства приводимой далее таблице приведены названия версий стандарта ata поддерживаемые ими режимы скорость передачи следует отметить что скорость передачи указываемая для каждого стандарта например мб для udma именуемого обычно ultra dma указывает максимальную теоретически возможную скорость кабеле это просто два байта умноженные на фактическую частоту предполагает что каждый цикл используется для передачи данных на практике скорость естественно меньше перегрузка на шине которой подключён ata контроллер также может ограничивать максимальный уровень передачи например максимальная пропускная способность шины pci работающей на частоте мгц имеющей разрядность бита составляет мб эта скорость делится между всеми подключёнными шине устройствами стандарт другие названия добавлены режимы передачи мб максимально поддерживаемый объём диска другие свойства ansi reference ata ata ide pio single word dma multi word dma гб bit lba obsolete since ata eide fast ata fast ide ultra ata pio multi word dma obsolete since ata eide security obsolete since ata atapi atapi ata ultra ata ultra dma aka ultra dma интерфейс atapi поддержка сменных носителей host protected area поддержка твердотельных накопителей ncits ata atapi ata ultra ata ultra dma aka ultra dma wire cables ncits ata atapi ata ultra ata udma aka ultra dma пб bit lbaautomatic acoustic management ncits ata atapi ata ultra ata udma aka ultra dma sata sata streaming feature set long logical physical sector feature set for non packet devices ncits см также sata примечания литература ссылки распайка разъёма ata ide категория компьютерные шины категория ata