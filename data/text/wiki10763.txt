протокол rtp работает на уровне приложений osi используется при передаче трафика реального времени протокол был разработан audio video transport working group ietf впервые опубликован году как rfc rfc является устаревшим момента выхода rfc году протокол rtp переносит своём заголовке данные необходимые для восстановления аудиоданных или приёмном узле также данные типе кодирования информации jpeg mpeg заголовке данного протокола частности передаются временная метка номер пакета эти параметры позволяют при минимальных задержках определить порядок момент декодирования каждого пакета также интерполировать потерянные пакеты rtp не имеет стандартного номера порта единственное ограничение состоит том что соединение проходит использованием чётного номера следующий нечётный номер используется для связи по протоколу rtcp тот факт что rtp использует динамически назначаемые адреса портов создаёт ему трудности для прохождения межсетевых экранов для обхода этой проблемы как правило используется stun сервер установление разрыв соединения не входит список возможностей rtp такие действия выполняются сигнальным протоколом например rtsp или sip протоколом описание протокола rtp был разработан как протокол реального времени из конца конец end to end для передачи потоковых данных протокол заложена возможность компенсации джиттера обнаружения нарушения пакетов данных типичных событий при передаче через ip сети rtp поддерживает передачу данных для нескольких адресатов через multicast rtp рассматривается как основной стандарт для передачи голоса видео ip сетях совместно кодеками приложения формирующие потоки реального времени требуют своевременной доставки информации для достижения этой цели могут допустить некоторую потерю пакетов например потеря пакета аудио приложении может привести доле секунды тишины которая может быть незаметна при использовании подходящих алгоритмов скрытия ошибок протокол tcp хотя для передачи rtp как правило не используется rtp приложениях так как надежность передачи tcp формирует временные задержки вместо этого большинство реализаций rtp базируется на udp кроме этого существуют другие спецификации для транспортных протоколов sctp dccp но они мало распространены компоненты протокола спецификация rtp описывает два подпротокола протокол передачи данных rtp который взаимодействует передачей данных реального времени информация предоставляемая посредством этого протокола включает себя отметку времени для синхронизации номер для детектирования потери дублирования пакетов формат полезной нагрузки который определяет формат кодирования данных протокол контроля rtcp используемый для определения качества обслуживания qos обратной связи синхронизации между медиа потоками занимаемая полоса пропускания rtcp мала сравнении rtp обычно около управляющий сигнальный протокол такой как sip mgcp или сигнальные протоколы управляют открытием модификацией закрытием rtp сессий между устройствами приложениями реального времени управляющий протокол описания медиа такой как session description protocol сессии rtp сессия устанавливается для каждого потока мультимедиа сессия состоит из ip адреса пары портов для rtp rtcp например аудио видео потоки будут иметь различные rtp сессии позволяющие приемнику для этого выделить конкретный поток порты которые образуют сессию связываются друг другом средствами других протоколов таких как sip содержащий своих сообщениях протокол sdp rtsp используя sdp методе setup соответствии со спецификацией rtp не имеет стандартного номера порта единственное ограничение состоит том что соединение проходит использованием чётного номера следующий нечётный номер используется для связи по протоколу rtcp rtp rtcp обычно используют udp порты но могут использовать другие порты поскольку сам протокол rtp независим от транспортного уровня структура пакета биты ver cc pt порядковый номер метка времени ssrc идентификатор если cc csrc идентификаторы cc если заголовок расширения определённое профилем значение заголовок расширения количество блоков данных по бита ehl cc заголовок расширения блоки данных cc ehl данные если заполнение padding data ver бита указывает версию протокола текущая версия один бит используется случаях когда rtp пакет дополняется пустыми байтами на конце один бит используется для указания расширений протокола задействованных пакете cc бита содержит количество csrc идентификаторов следующих за постоянным заголовком один бит используется на уровне приложения определяется профилем если это поле установлено то данные пакета имеют какое то особое значение для приложения pt бит указывает формат полезной нагрузки определяет её интерпретацию приложением ssrc указывает источник синхронизации ehl extension header length количество битных слов блоке данных расширения заголовка последний байт пакете определяющий длину области заполнения байтах используется для выравнивания последнем пакете спецификация rtp std rtp transport protocol for real time applications schulzrinne casner frederick jacobson july std rtp profile for audio and video conferences with minimal control schulzrinne casner july rtp transport protocol for real time applications см также профили данных rtp srtp zrtp sctp ссылки ответы на часто задаваемые вопросы протоколе rtp примечания категория сетевые протоколы категория протоколы voip