windows nt аббр от линейка операционных систем ос производства корпорации microsoft название первых версий ос windows nt была разработана начале после прекращения сотрудничества microsoft ibm над os развивалась отдельно от других ос семейства windows windows windows отличие от них как надёжное решение для рабочих станций windows nt workstation серверов windows nt server windows nt дала начало семейству операционных систем которое входят собственно windows nt windows nt windows nt windows nt windows windows xp windows xp professional edition windows server windows vista windows server windows windows server windows windows windows server windows server windows windows server windows server история разработки разработка windows nt под рабочим названием nt os была начата ноябре года группой специалистов во главе дэвидом катлером который перешёл microsoft из dec где они разрабатывали vax vms работа шла параллельно разработкой фирмой ibm собственной ос os которая окончательно вышла только апреле года россии была выпущена июня года одновременно этим фирма microsoft продолжала разрабатывать свои ос семейства dos windows отличающиеся меньшими требованиями ресурсам компьютера чем ibm os после того как мае года была выпущена windows microsoft решила добавить nt os программный интерфейс api совместимый windows api это решение вызвало серьёзные трения между фирмами майкрософт ibm которые закончились разрывом совместной работы ibm продолжила разработку os самостоятельно майкрософт стала работать над системой которая была результате выпущена под названием windows nt хотя эта система не сразу стала популярной подобно dos windows или windows точки зрения маркетинга windows nt оказалась существенно более удачной чем os нужно отметить что качестве программных интерфейсов ос nt изначально планировались api os затем posix поддержка windows api была добавлена последнюю очередь кроме того качестве аппаратной платформы для nt изначально планировались intel затем mips поддержка intel также была добавлена позднее затем процессе эволюции этой ос исчезла поддержка обоих изначально запланированных программных интерфейсов обеих изначально запланированных аппаратных платформ для не было ни одной стабильной версии этой ос хотя именно от кодового названия этого процессора ten происходит название самой ос nt ныне microsoft расшифровывает аббревиатуру nt как new technology качестве альтернативы posix подсистеме microsoft стала предлагать пакет сервисы microsoft windows для unix обновлении anniversary update для windows за июль года предложена бета версия подсистемы windows subsystem for linux для выполнения бинарных исполняемых файлов для ядра linux без применения виртуализации качестве базовой системы предлагается образ ubuntu версии за апреля добавлены также образы suse fedora переносимость nt была одной из её первоочередных задач именно поэтому разработка этой ос изначально велась для процессора хотя двоичная совместимость os бывшая одним из условий проекта nt os любом случае потребовала бы создания версии nt для либо включения неё эмуляции этой платформы количество платформ для которых существовали релизные версии ос семейства windows nt впечатляет кроме названных mips intel сюда входят powerpc dec alpha itanium amd независимыми производителями компьютерных систем были также разработаны версии windows nt для архитектур sparc однако эти версии не были выпущены как самостоятельные программные продукты качестве ос высокой переносимости при разработке nt были взяты за пример ос unix mach для разработки ос nt фирма microsoft пригласила группу специалистов из компании dec во главе дэвидом катлером обладающую опытом создания многозадачных операционных систем таких как vax vms rsx некоторое сходство отмеченное между внутренними архитектурами windows nt ос семейства vms дало основания обвинить вновь принятых сотрудников microsoft краже собственности dec возникший конфликт был разрешён мирным путём dec признала собственность microsoft на технологии лежащие основе windows nt microsoft создавала поддерживала версию windows nt для архитектуры dec alpha несмотря на общие корни совместимость windows nt os уменьшалась каждым новым выпуском этой ос поддержка api os хотя планировалась nt так не была завершена windows nt была удалена поддержка файловой системы hpfs windows xp была удалена подсистема поддержки программ для os версии название кодовое название варианты номер версии первый выпуск последний выпуск sp windows nt июля sp ноября workstation advanced server windows nt daytona сентября sp июня workstation server windows nt tukwila мая sp сентября workstation server windows nt nashville июля sp ноября workstation server server enterprise granite terminal server hydra embedded impala windows cairo февраля sp июня professional server advanced server datacenter server windows xp whistler октября sp мая home professional media center ehome tablet pc starter embedded mantis windows fundamentals for legacy pcs eiger windows server whistler server windows net server апреля sp мая standard enterprise datacenter web small business server bobcat compute cluster server storage server windows xp professional windows vista longhorn января sp мая starter home basic home premium business enterprise ultimate home basic business варианты всех кроме starter windows home server июля power pack ноября windows server longhorn server февраля sp мая standard enterprise datacenter hpc web storage small business cougar essential business centro itanium варианты всех кроме hpc windows blackcomb vienna октября sp kb февраля начальная домашняя базовая домашняя расширенная корпоративная максимальная windows windows варианты всех кроме начальной windows server октября sp kb февраля standard enterprise datacenter hpc web storage small business itanium все версии только разрядные windows home server апреля windows red октября pro октября windows windows rt wmc корпоративная корпоративная варианты всех кроме windows rt windows server октября rtm августа foundation essentials standard datacenter все версии только разрядные windows blue октября update апреля windows windows rt wmc корпоративная корпоративная варианты всех кроме windows rt windows server октября foundation essentials standard datacenter все версии только разрядные windows июля домашняя мобильная корпоративная для образовательных учреждений мобильная корпоративная iot домашняя arm windows server server vnext сентября essentials standard datacenter все версии только разрядные windows server октября essentials standard datacenter все версии только разрядные внутренняя архитектура компоненты ядра компоненты режима подсистема интерфейса windows nt реализует оконный интерфейс подобный интерфейсу предыдущих версий windows двумя типами объектов этой подсистемы битных версиях windows windows являются оконные станции рабочие столы оконная станция соответствует одному сеансу пользователя windows nt например при подключении через службу удалённого рабочего стола создаётся новая оконная станция каждый запущенный процесс принадлежит одной из оконных станций службы кроме помеченных как способные рабочим столом запускаются отдельных невидимых оконных станциях каждая оконная станция имеет собственный буфер обмена набор глобальных атомов используемых для операций dde набор рабочих столов рабочий стол является контекстом всех глобальных операций подсистемы интерфейса таких как установка хуков рассылка сообщений каждый запущенный поток принадлежит одному из рабочих столов тому где расположены обслуживаемые им окна частности один поток не может создать несколько окон принадлежащих различным рабочим столам один из рабочих столов может быть активным видимым пользователю способным реагировать на его действия остальные рабочие столы спрятаны возможность создать для одного сеанса работы несколько рабочих столов переключаться между ними до выхода windows не предоставлялась стандартными средствами интерфейса windows хотя существуют сторонние программы дающие доступ этой оконными станциями рабочими столами исчерпываются объекты подсистемы интерфейса windows nt которым могут быть назначены права доступа оставшиеся типы объектов окна меню предоставляют полный доступ любому процессу который находится ними одной оконной станции поэтому службы windows nt по умолчанию запускаются отдельных оконных станциях они работают повышенными привилегиями возможность процессов пользователя неограниченно манипулировать окнами служб могла бы привести сбоям или проблемам безопасности программные интерфейсы native api для прикладных программ системой windows nt предоставляется несколько наборов api основной из них так называемый родной api nt native api реализованный динамически подключаемой библиотеке ntdll dll состоящий из двух частей системные вызовы ядра nt функции префиксами nt zw передающие выполнение функциям ядра ntoskrnl exe теми же названиями функции реализованные режиме префиксом rtl часть функций второй группы используют внутри себя системные вызовы остальные целиком состоят из кода могут вызываться не только из кода режима но из драйверов кроме функций native api ntdll также включены функции стандартной библиотеки языка си официальная документация на native api весьма скудна но сообществам энтузиастов удалось методом проб ошибок собрать достаточно обширные сведения об этом интерфейсе частности феврале года опубликована книга гэри неббета справочник по базовым функциям api windows nt isbn году она была переведена на русский язык isbn источником информации native api может служить windows ddk где описаны некоторые функции ядра доступные посредством native api также изучение кода windows обратная разработка посредством либо используя исходные тексты windows ставшие доступными результате утечки либо используя исходные тексты windows доступные рамках программы windows research kernel программы выполняющиеся до загрузки подсистем обеспечивающих работу остальных api ос windows nt ограничены использованием native api например программа autochk проверяющая диски при загрузке ос после некорректного завершения работы использует только native api win api чаще всего прикладными программами для windows nt используется win api интерфейс созданный на основе api ос windows позволяющий существующие программы для битных версий windows минимальными изменениями исходного кода совместимость win api битного windows api настолько велика что битные битные приложения могут свободно обмениваться сообщениями работать окнами друг друга кроме поддержки функций существовавшего windows api win api был также добавлен ряд новых возможностей том числе поддержка консольных программ многопоточности объектов синхронизации таких как мьютексы семафоры документация на win api входит состав microsoft platform sdk доступна на веб сайте библиотеки поддержки win api основном названы так же как системные библиотеки windows добавлением суффикса это библиотеки kernel advapi gdi user comctl comdlg shell ряд других функции win api могут либо самостоятельно реализовывать требуемую режиме либо вызывать описанные выше функции native api либо обращаться подсистеме csrss посредством механизма либо осуществлять системный вызов библиотеку win реализующую необходимую для win api поддержку режиме ядра четыре перечисленных варианта могут также комбинироваться любом сочетании например функция win api writefile обращается функции native api ntwritefile для записи дисковый файл вызывает соответствующую функцию csrss для вывода консоль поддержка win api включена семейство ос windows кроме того она может быть добавлена windows установкой пакета win для облегчения переноса существующих windows приложений использующих для представления строк mbcs кодировки все функции win api принимающие параметрами строки были созданы двух версиях функции суффиксом ansi принимают mbcs строки функции суффиксом wide принимают строки кодировке utf win windows поддерживаются только функции тогда как windows nt где все строки внутри ос хранятся исключительно utf каждая функция просто преобразует свои строковые параметры юникод вызывает версию той же функции поставляемых файлах библиотеки также определены имена функций без суффикса использование либо версии функций определяется опциями компиляции модулях delphi до версии например они жёстко завязаны на варианты суффиксом при этом важно отметить что большинство новых функций появившихся windows или более поздних ос семейства windows nt существуют только unicode версии потому что задача обеспечения совместимости со старыми программами ос windows уже не стоит так остро как раньше posix os отличие от большинства свободных unix подобных ос windows nt сертифицирована институтом nist на совместимость со стандартом posix даже более строгим стандартом fips библиотекой psxdll экспортируются стандартные функции posix также некоторые функции native api не имеющие аналогов posix например для работы кучей со структурными исключениями unicode внутри этих функций используются как native api так lpc вызовы подсистему psxss являющуюся обычным win процессом для выполнения битных программ написанных для os состав windows nt включены две системных библиотеки os doscalls netapi консольная программа эмулятор os которая загружает использует посредством lpc вызовов подсистемы os srv os ss остальные системные библиотеки os кроме двух названных kbdcalls mailslot moncalls nampipes quecalls viocalls ещё десяток не хранятся как отдельные файлы эмулируются программы написанные для os выше также оконные программы программы напрямую работающие устройствами компьютера том числе драйверы системой windows nt не поддерживаются обе эти подсистемы необязательные для работы большинства приложений были удалены windows xp последующих выпусках windows при помощи манипуляций реестром их можно было отключить предыдущих версиях windows nt что рекомендовалось специалистами по компьютерной безопасности целях сокращения поверхности атаки компьютерной системы dos win чтобы обеспечить двоичную совместимость существующими программами для предыдущих семейств ос от microsoft windows nt была добавлена программа эмулятор ntvdm реализующая vdm виртуальную dos машину внутри которой может выполняться программа для dos для каждой выполняемой dos программы создаётся собственная vdm тогда как несколько битных windows программ могут выполняться отдельных потоках внутри одной vdm которая этом случае играет роль подсистемы для того чтобы внутри vdm можно было выполнять программы для windows неё сначала должна быть загружена программа wowexec устанавливающая связь vdm платформой wow windows on win позволяющей использовать битные приложения для windows наравне битными сама программа эмулятор ntvdm выполняется внутри подсистемы win что позволяет win программам обращаться окнам dos программ как обычным консольным окнам окнам win программ как обычным графическим окнам ещё одна технология обеспечения двоичной совместимости реализованная windows nt это thunks переходник небольшие секции кода выполняющие преобразования например типов или обеспечивающие вызов разрядного кода из разрядного наоборот thunks позволяют битным программам пользоваться битными dll библиотеками для windows или os наоборот thunks для win реализованы библиотеках wow битные точки входа krnl битные точки входа thunks для os библиотеке doscalls битные точки входа битным системным библиотекам включённым состав windows nt для использования технологией wow относятся krnl gdi user commctrl commdlg shell др поддержка dos программ виртуальной dos машиной системы windows nt не ограничена эмуляцией реального режима процессора поддерживается интерфейс dpmi позволяющий dos программам обращаться расширенной памяти однако поддержка программ для dos win windows nt ограничена требованиями безопасности программы напрямую работающие устройствами компьютера том числе драйверы не поддерживаются связи аппаратными ограничениями битных платформ поддержка vdm wow была исключена из битных версий windows запуск битных программ средствами системы на них невозможен но возможно использование эмуляторов таких как dosbox основным api этих версий windows nt является битная версия win api для запуска битных программ используется технология wow аналогичная традиционной wow аппаратные платформы как уже было отмечено создание версии nt для требовалось для обеспечения совместимости os однако для того чтобы убедиться переносимости создаваемого кода разработка nt началась версий для risc архитектур только потом была добавлена поддержка изначально разработка версии windows nt была ориентирована на процессор но моменту выпуска windows nt была также добавлена поддержка последней версией поддерживающей была windows nt процессор для которого велась начальная разработка ос nt не получил ко времени завершения работ над windows nt той поддержки производителями компьютеров на которую рассчитывали intel microsoft результате тремя платформами поддержка которых была включена windows nt стали alpha mips выпусках windows nt поддержка этих платформ сохранялась пополнившись windows nt также архитектурой на основе процессора powerpc однако windows nt не была совместима компьютерами macintosh тем же процессором фактически поддерживались только клоны ibm pc процессором powerpc вместо такие компьютеры выпускались основном фирмами создателями powerpc ibm motorola первый выпуск windows nt поддерживал четыре платформы alpha mips powerpc но поддержка менее платформ сокращалась по мере выхода пакетов обновления из sp была удалена поддержка mips из sp поддержка powerpc последними выпусками windows nt поддерживались только alpha хотя поддержка alpha планировалась включению windows она была исключена из версии rc результате единственной платформой поддерживаемой на windows стала поддержка битных процессоров была впервые реализована windows xp для ia архитектуры процессоров intel itanium на основе битной версии windows xp были созданы также битные серверные версии windows позже поддержка процессора itanium была добавлена часть версий windows server второй битной архитектурой поддерживаемой ос семейства windows nt стала созданная amd архитектура позже реализованная процессорах intel под названием em одновременно были выпущены windows server sp windows xp professional представляющие собой серверный настольный варианты одной той же версии windows частности этим выпускам применимы одни те же обновления года корпорацией майкрософт было принято решение прекратить поддержку ia последней версией ос windows nt полноценно поддерживающей itanium является windows nt xp professional bit edition server однако для более дорогих соответственно труднее модернизируемых серверов были выпущены специальные версии windows server windows server windows server поддержки ia уже не получила см также reactos операционная система открытым кодом совместимая приложениями драйверами windows nt архитектура windows nt установка windows примечания ссылки клиентские системы windows на technet центр загрузки пробной версии windows корпоративная техническая библиотека windows доклад xp vista windows вчера сегодня завтра сетевые возможности доклад развитии технологий обеспечения безопасности от windows vista до windows nt os design workbook microsoft доступна рамках программы windows research kernel также американском музее национальной истории ms windows nt workstation resource guide microsoft isbn