php php препроцессор гипертекста первоначально инструменты для создания персональных веб страниц скриптовый язык общего назначения интенсивно применяемый для разработки веб приложений настоящее время поддерживается подавляющим большинством хостинг провайдеров является одним из лидеров среди языков применяющихся для создания динамических веб сайтов язык его интерпретатор zend engine разрабатываются группой энтузиастов рамках проекта открытым кодом проект под собственной лицензией несовместимой gnu gpl область применения области веб частности серверной части php один из популярных сценарных языков наряду jsp perl языками используемыми asp net популярность области построения веб сайтов определяется наличием большого набора встроенных средств для разработки веб приложений основные из них автоматическое извлечение post get параметров также переменных окружения веб сервера массивы взаимодействие большим количеством различных систем управления базами данных mysql mysqli sqlite postgresql oracle oci oracle microsoft sql server sybase odbc msql ibm db cloudscape apache derby informix ovrimos sql lotus notes db dbm dbase dbx frontbase filepro ingres ii sesam firebird interbase paradox file access maxdb интерфейс pdo redis отправка http заголовков работа http авторизацией работа cookies сессиями работа локальными удалёнными файлами сокетами обработка файлов загружаемых на сервер работа xforms настоящее время php используется сотнями тысяч разработчиков согласно рейтингу корпорации tiobe базирующемся на данных поисковых систем мае года php находился на месте среди языков крупнейшим сайтам использующим php относятся facebook wikipedia др входит lamp набор программного обеспечения для создания хостинга веб сайтов linux apache mysql php создание gui приложений файл winbinder fe big png thumb скриншот редактора форм winbinder хотя php не слишком распространён данной области его можно использовать для создания gui приложений для создания приложений служат пакеты php gtk php qt представляющие собой обёртки для соответствующих популярных библиотек виджетов также существует среда разработки приложений devel next для создания графических приложений для windows существуют свободные пакеты winbinder написан на си фактически обёртка для winapi pqbuilder написан на php использованием библиотеки phpqt также предшественник devel next среда быстрой разработки devel studio кроме этого существует реализация php для net mono phalanger для jvm jphp результатом компиляции php кода phalanger может быть любое net приложение то же время jphp поддерживает расширение swing почти полностью портированное из среды java история году датский программист расмус лердорф создал набор скриптов на perl cgi для вывода учёта посетителей его онлайн резюме обрабатывающий шаблоны html документов лердорф назвал набор personal home page личная домашняя страница вскоре быстроты perl интерпретатора скриптов перестало хватать лердорф разработал использованием языка новый интерпретатор шаблонов php fi персональная домашняя страница интерпретатор форм июня года вышел personal home page php tools version первый публичный релиз году после длительного бета тестирования вышла вторая версия обработчика написанного на php fi её использовали около приблизительно тысяч всех интернет доменов мира версия php подверглась значительной переработке определившей современный облик стиль языка году два израильских программиста энди гутманс зеев сураски полностью переписали код интерпретатора php был официально выпущен июне года одной из сильнейших сторон php была возможность расширения ядра дополнительными модулями впоследствии интерфейс написания расширений привлёк php множество сторонних разработчиков работающих над своими модулями что дало php возможность работать огромным количеством баз данных протоколов поддерживать большое число api большое количество разработчиков привело быстрому развитию языка стремительному росту его популярности этой версии акроним php как php hypertext preprocessor вместо устаревшего personal home page зиме года практически сразу после официального выхода php энди гутманс зеев сураски начали переработку ядра php задачи входило увеличение сложных приложений улучшение модульности базиса кода php новый движок названный zend engine успешно справлялся поставленными задачами впервые был представлен середине года php основанный на этом движке принёсший собой набор дополнительных функций официально вышел мае года дополнение улучшению php имел ещё несколько ключевых нововведений таких как поддержка сессий буферизация вывода более безопасные способы обработки вводимой пользователем информации несколько новых языковых конструкций пятая версия php была выпущена разработчиками июля года изменения включают обновление ядра zend zend engine что существенно увеличило эффективность интерпретатора введена поддержка языка разметки xml полностью переработаны функции ооп которые стали во многом схожи моделью используемой java частности введён деструктор открытые закрытые защищённые члены методы окончательные члены методы интерфейсы клонирование объектов последующих версиях также были введены пространства имён замыкания целый ряд достаточно серьёзных изменений количественно качественно сравнимых теми которые появились при переходе на php шестая версия php разрабатывалась октября года было сделано множество нововведений как например исключение из ядра регулярных выражений posix длинных суперглобальных массивов удаление директив safe_mode из файла php ini одним из основных новшеств должна была стать поддержка юникода однако марте года разработка php была признана из за сложностей поддержкой юникода исходный код php перемещён на ветвь основной линией разработки стала версия php году было проведено голосование по результатам которого следующая версия получила название php выход новой версии планировался середине октября года марте года zend представили инфографику которой описаны основные нововведения php декабря года было объявлено выходе php версии новая версия основывается на ветви php которая изначально называлась phpng php next generation следующее поколение разрабатывалась упором на увеличение уменьшение потребления памяти новой версии добавлена возможность указывать тип возвращаемых из функции данных добавлен контроль передаваемых типов для данных также новые операторы синтаксис thumb синтаксис php подобен синтаксису языка си некоторые элементы такие как ассоциативные массивы цикл foreach заимствованы из perl для работы программы не требуется описывать какие либо переменные используемые модули любая программа может начинаться непосредственно оператора php простейшая программа hello world на php выглядит следующим образом также возможен более короткий вариант вывода строки открывающий тег вида используется для сокращённой записи конструкций используемых для вывода строки php исполняет код находящийся внутри ограничителей таких как всё что находится вне ограничителей выводится без изменений основном это используется для вставки php кода html документ например так тестируем php помимо ограничителей допускается использование сокращённого варианта кроме того до версии допускалось использование ограничителей языка asp работа сокращённых конструкций определяется файле php ini имена переменных начинаются символа тип переменной объявлять не нужно имена переменных констант чувствительны регистру символов имена классов методов классов функций регистру символов не чувствительны переменные обрабатываются строках заключённых двойные кавычки heredoc строках строках созданных при помощи оператора за исключением некоторых случаев после объявления конструкции if else циклов переменные функцию можно передавать как по значению так по ссылке используется знак php поддерживает три типа комментариев стиле языка си ограниченные начинающиеся идущие до конца строки оболочки unix до конца строки типы данных php является языком динамической типизацией не требующим указания типа при объявлении переменных равно как самого объявления переменных преобразования между скалярными типами зачастую осуществляются неявно без дополнительных усилий впрочем php предоставляет широкие возможности для явного преобразования типов скалярным типам данных относятся целочисленный тип integer число плавающей точкой float double логический тип boolean строковый тип string нескалярным типам относятся массив array объект object внешний ресурс resource неопределенное значение null псевдотипам относятся mixed любой тип number число integer либо float callback string или анонимная функция void отсутствие параметров диапазон целых чисел integer php зависит от платформы обычно это диапазон битных знаковых целых чисел то есть от до числа можно задавать десятичной восьмеричной системах счисления диапазон вещественных чисел double также зависит от платформы для битной архитектуры диапазон позволяет оперировать числами от до php предоставляет разработчикам логический тип boolean способный принимать только два значения true истина false ложь при преобразовании логический тип число пустая строка ноль строке null пустой массив считаются равными false все остальные значения автоматически преобразуются true специальный тип null предназначен для переменных без определённого значения единственным значением данного типа является константа null тип null принимают переменные переменные константой null также переменные удалённые при помощи конструкции unset ссылки на внешние ресурсы имеют тип ресурс resource переменные данного типа как правило представляют собой дескриптор позволяющий управлять внешними объектами такими как файлы динамические изображения результирующие таблицы базы данных массивы array поддерживают числовые строковые ключи являются гетерогенными массивы могут содержать значения любых типов включая другие массивы порядок элементов их ключей сохраняется не совсем корректно называть php массивы массивами на самом деле это скорее всего упорядоченный хеш возможно неожиданное поведение при использовании цикла for со счетчиком вместо foreach так например при сортировке массива численными индексами функциями из стандартной библиотеки сортируются ключи тоже указатель на функцию php может быть представлен замыканием или псевдотипом callback замыкание доступно версии коде выглядит как простое определение функции которую можно явно пробросить значения из контекста например function args argsn use ctxvar ctxvar callback тип может быть представлен строкой как название функции массивом где нулевой первый элемент строки как название статической функции класса массивом где нулевой элемент объект первый строка как метод объекта для проверки является ли значение вызываемым следует использовать is_callable var обращение переменным функциям обращение переменным осуществляется помощью символа за которым следует имя переменной данная конструкция может быть применена также для создания динамических переменных функций например am запись значения переменную echo вывод переменной echo вывод переменной дополнительный перед переменной echo вывод переменной function_name вызов функции function_name function_name вызов функции function_name class_name echo obj new class_name создание объекта класса class_name obj new создание объекта класса class_name obj обращение свойству объекта obj вызов метода объекта obj обращение свойству объекта так как obj вызов метода function_name объекта так как function_name php echo print не являются функциями хотя print имеет возвращаемое значение являются синтаксическими единицами при их использовании можно опустить скобки суперглобальные массивы массивами php называются массивы имеющие глобальную область видимости без использования директивы global большая часть этих массивов содержит входные данные запроса пользователя параметры get запроса поля форм при посылке методом post куки все суперглобальные массивы кроме globals имеют устаревшие аналоги длинными именами которые доступны вплоть до версии начиная были удалены таким образом обращения year http_get_vars year идентичны за исключением области видимости массивы длинными именами не являются globals массив всех глобальных переменных том числе аналог для устаревшего содержит переменные окружения которые операционная система передаёт серверу уст http_env_vars текущие переменные среды их набор специфичен для платформы на которой выполняется скрипт уст http_get_vars содержит параметры get запроса переданные uri после знака вопроса уст http_post_vars ассоциативный массив значений полей html формы при отправке методом post индексы элементов соответствуют значению свойства name объектов кнопки формы радио кнопки флажки html формы уст http_post_files ассоциативный массив со сведениями об отправленных методом post файлах каждый элемент имеет индекс идентичный значению атрибута name форме свою очередь также является массивом со следующими элементами name исходное имя файла на компьютере пользователя type указанный агентом пользователя mime тип файла php не проверяет его поэтому нет никаких гарантий что указанный тип соответствует size размер файла байтах tmp_name полный путь файлу во временной папке файл необходимо переместить оттуда функцией загруженные файлы из временной папки php удаляет самостоятельно error код ошибки если файл удачно загрузился то этот элемент будет равен upload_err_ok уст ассоциативный массив переданными агентом пользователя значениями куки содержит элементы из массивов версии php включает уст содержит данные сессии объектно ориентированное ключевое слово class было зарезервировано ещё третьей версии языка четвёртой версии стало возможно создавать классы объекты на их основе однако принципы ооп поддерживались лишь частично так например все члены переменные методы были открыты тому же создание объектов было дорогой операцией работали они медленно начиная пятой версии php обладает полной поддержкой ооп работа классами была оптимизирована теперь такой код работает достаточно быстро класс php объявляется помощью ключевого слова class методы свойства класса могут быть общедоступными public по умолчанию защищёнными protected скрытыми private php поддерживает все три основных механизма ооп инкапсуляцию полиморфизм подтипов наследование родительский класс указывается помощью ключевого слова extends после имени класса поддерживаются интерфейсы ставятся соответствие помощью implements разрешается объявление финальных абстрактных методов классов множественное наследование классов не поддерживается однако класс может реализовывать несколько интерфейсов для обращения методам родительского класса используется ключевое слово parent начиная версии множественное наследование может быть реализовано помощью механизма особенностей особенности похожи на примеси за исключением того что для них нельзя напрямую создать экземпляр повторное использование кода заключено использовании кода особенности нескольких классах допускается использовать одном классе несколько особенностей механизм особенностей имеет средства разрешения конфликтов имён при запуске программы код особенности будет вкомпилирован код содержащего его класса классы php имеют ряд магических методов начинающихся двух символов подчёркивания особо стоит отметить конструктор версиях до конструктором служил метод одноимённый классом деструктор также методы чтения записи свёртывания развёртывания клонирования др эти методы являются достаточно гибким инструментом переопределяя их можно добиться существенного изменения поведения объекта все функции члены реализованы виртуальными потому все они являются методами экземпляры класса создаются помощью ключевого слова new обращение свойствам методам объекта производится использованием оператора для доступа членам класса из его методов используется переменная this class extends implements private protected function parent this this public function plus return this this new echo plus начиная пятой версии php объекты передаются по ссылке class public color red new echo color red color blue echo color blue paamayim nekudotayim иврит פעמיים נקודתיים или просто двойное двоеточие используя эту лексему программист может обращаться константам статическим или перегруженным свойствам или методам класса при обращении этим элементам извне класса программист должен использовать имя этого класса paamayim nekudotayim на первый взгляд может показаться странным словосочетанием для обозначения двойного двоеточия однако во время создания zend engine версии который входил php andi zeev выбрали именно это обозначение paamayim nekudotayim действительно значит двойное двоеточие дословно два раза двоеточие на иврите это обозначение не менялось ни разу течение всего времени разработки php фреймворки системы управления содержимым самые современные наиболее популярные phalcon symfony laravel kohana yii codeigniter zend framework cakephp fuelphp drupal wordpress joomla modx fat free framework opencart magento особенности интерпретатора php скрипты обычно обрабатываются интерпретатором порядке обеспечивающем разработанного приложения лексический анализ исходного кода генерация лексем синтаксический анализ полученных лексем генерация байт кода выполнение байт кода интерпретатором без создания исполняемого файла для увеличения быстродействия приложений возможно использование специального программного обеспечения так называемых акселераторов принцип их работы заключается кэшировании однажды байт кода памяти или на диске таким образом из процесса работы приложения исключаются этапы что общем случае ведёт значительному ускорению работы важной особенностью является то что разработчику нет необходимости заботиться распределении освобождении памяти ядро php реализует средства для автоматического управления памятью вся выделенная память возвращается системе после завершения работы скрипта расширения интерпретатор состоит из ядра подключаемых модулей расширений представляющих собой динамические библиотеки расширения позволяют дополнить базовые возможности языка предоставляя возможности для работы базами данных сокетами динамической графикой библиотеками документами формата pdf тому подобным любой желающий может разработать своё собственное расширение подключить его существует огромное количество расширений как стандартных так созданных сторонними компаниями энтузиастами однако стандартную поставку входит лишь несколько десятков хорошо себя множество расширений доступно репозитории pecl параметры настройки интерпретатор php имеет специальный файл php ini содержащий множество настроек изменение которых влияет на поведение интерпретатора имеется возможность отключить использование ряда функций изменить ограничения на используемую скриптом оперативную память время выполнения объём загружаемых файлов настроить журналирование ошибок работу сессиями почтовыми сервисами подключить дополнительные расширения также многое другое возможно дробление большого файла на части например широко распространена практика вынесения настроек расширений отдельные файлы параметры интерпретатора могут быть переопределены файлах конфигурации http сервера например htaccess apache или самом скрипте во время выполнения при помощи команды ini_set режимы запуска интерпретатора sapi sapi это внешний уровень абстракции предназначенный для встраивания интерпретатора другие приложения отвечает за его работу запуск остановка передача скриптов на исполнение доступ внешним данным существует несколько основных sapi определяющих способы запуска использования php качестве модуля веб серверу например для apache модуль mod_php этом случае интерпретатор php выполняется окружении процесса веб сервера веб сервер управляет количеством запущенных процессов php сообщает им какие скрипты требуется исполнить cgi sapi использование cgi подразумевает запуск нового процесса для обработки каждого запроса для исполнения php скрипта веб сервер запускает php cgi path to script php сам принцип такого использования подразумевает что интерпретатор php исполняет только один скрипт после чего заканчивает свою работу затраты на запуск процесса интерпретатора его инициализацию очень часто сопоставимы или даже превышают затраты на исполнение php скрипта для решения этой проблемы cgi sapi был введён режим fastcgi этом режиме php интерпретатор запускается как независимый сервер обрабатывающий входящие запросы на исполнение php скриптов по протоколу fastcgi что позволяет ему работать любым веб сервером поддерживающим этот протокол fpm sapi известный как php fpm это другая реализация протокола fastcgi создан изначально андреем нигматулиным как отдельный патч для использования социальной сети badoo данная реализация решала ряд проблем которые мешали использованию cgi fastcgi sapi частности появилась возможность перезапуска пула интерпретаторов php без потери запросов запуск нескольких пулов под разными пользователями аварийный перезапуск интерпретаторов случае проблем ними ещё несколько приятных дополнений дальнейшем над патчем работали несколько человек был добавлен режим динамического управления числом запущенных процессов php по принципу управления числом процессов веб сервере apache начиная версии php php fpm был включён php как отдельное sapi качестве скрипта командной строки cli sapi являющегося исполняемым файлом который вызывается пользователем из командной строки скрипт выполняется окружении вызвавшего пользователя этом случае возможно использование php для создания клиентских gui приложений решения задач операционных системах unix linux microsoft windows mac os amigaos однако таком качестве он не получил распространение отдавая пальму первенства perl python vbscript начиная версии php cli sapi появилась возможность запуска php как отдельного http сервера однако этот режим предназначен исключительно для разработки так как запускает только один процесс интерпретатора выполняет все запросы исключительно последовательно пасхальные яйца php имеет несколько пасхальных яиц шуток передача специальных get параметров любому php скрипту приводит выводу различных изображений например любой_сценарий php phpe aa acf введя это значение адресную строку браузера можно увидеть различные изображения зависимости от версии интерпретатора фотография thies arntzen версии фотография таксы владелец stig bakken версии фотография чёрного терьера владелец zeev suraski версии фотография кролика версии искажённый логотип php версии фотография игрушечного синего слона надписью php начиная версии следующие два значения позволят увидеть стандартный логотип php zend соответственно любой_сценарий php phpe aa acf любой_сценарий php phpe aa acf эти значения можно получить непосредственно php скрипте помощью функций php_logo_guid zend_logo_guid для логотипа zend также имеется специальное значение для отображения списка всех авторов php любой_сценарий php phpb альтернативные реализации силу популярности языка php желания увеличить быстродействие основанных на нём веб приложений создано несколько альтернативных компиляторов близких php языку так феврале года компания facebook открыла свой компилятор php hiphop hphp hyper php генерирующий код на последующей компиляцией машинный код помощью gcc июле года российская компания вконтакте анонсировала похожий продукт kphp таблице представлен список существующих на сегодняшний момент альтернативных реализаций название версия php примерно лицензия результат компиляции hiphop php license машинный код roadsend php gpl lgpl машинный код phalanger ms ss pl shared source microsoft il quercus составе веб сервера resin gpl или коммерческая jvm phc bsdl машинный код pipp artistic license gnu gpl parrot jphp частично apache jvm phpphp mit php ph своя symisc public license машинный код hippyvm mit rpython pypy на сайте phpclasses org доступен сравнительный анализ некоторых компиляторов php compiler performance лицензирование приложения php библиотека pear популярные веб приложения использованием php разработано множество приложений которые широко используются на различных сайтах форумах блогах drupal typo joomla wordpress системы управления содержимым cms magento oscommerce opencart системы для интернет коммерции coppermine gallery project images галереи изображений mediawiki dokuwiki вики движки phpbb smf vbulletin invision power board форумные движки phpmyadmin phppgadmin adminer утилиты субд eyeos удалённая операционная система основанная на принципе desktop operating system вспомогательные каркасы для быстрой разработки приложений на php было создано множество фреймворков наиболее популярными из которых являются zend framework cakephp symfony laravel codeigniter kohana phalcon yii основные преимущества такой разработки это предоставление возможности строить проект при помощи паттерна mvc интегрированные среды разработки для php название лицензия сайт codelobster freeware http www codelobster com komodo mozilla tri license mpl lgpl gpl http www activestate com jetbrains phpstorm proprietary software http www jetbrains com phpstorm php development tools eclipse public license http www eclipse org pdt zend studio shareware http www zend com products zend_studio aptana studio gnu gpl https web archive org web http aptana org phpdesigner shareware http www mpsoftware eu php expert editor shareware http www phpexperteditor com netbeans ide cddl http www netbeans org radphp xe trial https web archive org web http www embarcadero com products radphp nusphere trial http www nusphere com kdevelop gnu gpl http www kdevelop org microsoft webmatrix freeware http www microsoft com web webmatrix notepad gnu gpl http notepad plus plus org sublime text proprietary software http www sublimetext com vs php for visual studio proprietary software http www jcxsoftware com jcx vsphp home php tools for visual studio trial http www devsense com develnext mpl http develnext org критика низкое качество кода простой синтаксис простота настройке окружения дают возможность быстро начать программировать на php это снижает уровень входа для начинающих не имеющих знаний том на каких принципах должна вестись разработка кода результате получается много кода имеющего запахи что приводит критике данного языка другими программистами на деле же человек имеющий знания том как нужно выстраивать архитектуру приложения принципы написания кода может разрабатывать хорошие поддерживаемые приложения несогласованный синтаксис функций php предоставляет разработчикам большое количество самых разнообразных функций которые попали язык из расширений создаваемых разными группами программистов результате синтаксис языка не согласован например часть функций для работы массивами начинается префикса array_ другая часть этим префиксом не обладает названия части строковых функций начинается префикса str или str_ другие функции таким префиксом не обладают тех же строковых функциях обрабатываемая строка может передаваться как качестве первого так качестве последнего аргумента что вызывает путаницу программистов следовательно требует постоянного обращения документации некоторые задачи например разбиение строки на массив или подстроки решаются несколькими функциями другая причина отсутствия ортогональности php заключается особенностях появления этого языка на свет отличие от подавляющего большинства остальных языков php не был изначально задуман как полноценный язык постепенно вырос из шаблонизатора для perl это привело как появлению первоначальном варианте языка некоторых спорных решений так отсутствию контроля со стороны создателя языка который бы следил за стройностью его архитектуры отсутствие обратной совместимости между версиями языка код созданный для более ранних версий языка зачастую не работает или работает некорректно более поздними версиями языка более поздних версиях исключаются конструкции методики функции применявшиеся ранее результате приложения созданные несколько лет назад практически теряют для современных версий языка требуют значительной модификации такие изменения обусловлены двумя факторами устранением синтаксиса устранением конструкций поощряющих создание небезопасного кода версиях линейки большое количество функций было признано устаревшими их поддержка не планируется новых версиях языка что вызывает несовместимость со скриптами которые используют устаревшие функции надо отметить что противоречие между обратной совместимостью процессом развития одна из ключевых проблем разработке программного аппаратного обеспечения при работе над скриптовыми языками время от времени происходит резкая смена его архитектуры порой парадигмы обычно сменой первой цифры номере версии так настоящее время идёт постепенный переход на новую ветвь языка python стадии тестирования находится perl являющийся по сути новым perl подобным языком при этом принято выпускать переходные версии которых постепенно вводятся новые конструкции использование устаревших вызывает вывод предупреждений таким переходным версиям относится php марта года zend technologies объявили что версию php когда она будет выпущена решено интегрировать zend optimizer который включает себя кэш опкодов оптимизатор кода отсутствие поддержки многобайтовых кодировок ядре языка поддержка строк многобайтовыми кодировками такими как utf реализуется через отдельные расширения mbstring iconv на уровне ядра поддержка отсутствует однако версии php есть возможность переопределять стандартные функции работы со строками подменяя их на аналоги из mbstring поддержка многобайтовых кодировок во всех строковых функциях стала доступна версии март года отсутствие поддержки многопоточности языке не предусмотрена возможность создания многопоточных приложений отсутствует поддержка доступа ресурсам однако реализуема при помощи расширения pcntl однако следует отметить что использование pcntl или rocess nt ro не подходит для решения специфических задач хотя есть возможность установить расширение pthreads для честных потоков но для этого интерпретатор должен быть скомпилирован флагом thread safety на рынке согласно исследованиям одного из крупных российских порталов трудоустройства возрастной диапазон наиболее востребованных программистов php лет программисты php возрасте до лет составляют от общего числа специалистов программистов php мужчины программистов php владеют английским языком на базовом уровне на уровне чтения технической документации на разговорном на свободном уровнях программистов php имеют высшее образование неполное высшее среднее специальное см также стандартная библиотека php pear pecl php qt php gtk акселератор php php инъекция phpdocumentor composer примечания литература php для начинающих ооп php ссылки официальный сайт php руководство по php включая faq категория скриптовые языки категория языки веб категория свободные компиляторы интерпретаторы категория статьи примерами кода php категория гипертекст категория высокоуровневые языки категория языки динамической типизацией