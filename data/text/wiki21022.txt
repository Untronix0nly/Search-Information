логотип openid открытый стандарт системы аутентификации предоставляющей пользователю возможность создать единую учётную запись для аутентификации на множестве не связанных друг другом интернет ресурсов используя услуги третьих лиц базовой функцией openid является предоставление портативного клиент цифрового идентификатора для свободного использования стандарт описывает процесс коммуникации интернет ресурсов relying parties требующих аутентификации провайдеров openid openid providers существует несколько openid провайдеров которые предоставляют хостинг openid url аутентификацию openid используют том числе google yahoo aol livejournal myspace ibm steam orange расширение стандарта the openid attribute exchange облегчает передачу данных таких как имя или пол от openid провайдера до интернет ресурса на декабрь года существовало более миллиарда аккаунтов openid около миллионов сайтов поддерживающих технологию openid текущая версия стандарта openid connect вышла феврале года была обновлена ноябре года история возникновения году брэд фицпатрик известный как создатель livejournal работавший на то время six apart предложил интернет сообществу концепцию единой учётной записи для разных интернет ресурсов он предложил хранить свою учётную запись на одном сервере при регистрации на других интернет ресурсах пользоваться этой учётной записью первоначально протокол называют yadis акроним от yet another distributed identity system название openid протокол получил уже после того как six apart доменное имя openid net для своего проекта вскоре поддержка openid была реализована на livejournal эта технология быстро привлекла себе внимание интернет сообщества была создана первая спецификация openid openid authentication декабря года sun microsystems verisign ряд компаний участвующих разработке openid выпустили спецификацию openid официально заявили что не будут выдвигать претензии случае использования технологии openid кем либо если только действия лица использующего технологию не будут направлены против реализации технологии или на правообладание технологией товарный знак openid был зарегистрирован сша марте года вход через openid точки зрения конечного пользователя на сайте например example com находится форма входа единственным полем ввода для openid идентификатора зачастую рядом таким полем располагается логотип openid для того чтобы авторизоваться на данном сайте помощью своего идентификатора например pupkin openid provider org openid провайдера openid provider org пользователю необходимо ввести свой идентификатор предлагаемую на сайте форму входа после этого сайт example com перенаправляет пользователя на сайт провайдера сайт провайдера запрашивает пользователя подтверждение действительно ли пользователь желает предоставить информацию своей учётной записи если пользователь соглашается то сайт провайдера перенаправляет пользователя обратно на сайт зависимой стороны при обратном перенаправлении провайдер передаст информацию пользователе зависимой стороне openid провайдером например является живой журнал поэтому качестве openid идентификатора можно использовать адрес своего дневника live journal общее описание протокола возможности openid openid позволяет пользователю использовать одну учетную запись openid провайдера на множестве других сайтов пользователь может выбрать какую информацию предоставить сайту обмен информацией профиля или другими сведениями не описанными спецификации openid может быть реализован поверх протокола openid помощью дополнительных видов обслуживания для этого предусмотрен официально поддерживаемый протоколом openid механизм расширения протокола существует возможность делегирования openid это означает что владелец некоего доменного имени может использовать его качестве синонима алиаса уже существующему openid идентификатору полученному любого провайдера openid для этого необходимо на страницу используемую качестве делегата добавить несколько мета тегов система openid система это значит что нет какой либо центральной службы или организации которая разрешала бы использование системы или регистрировала бы запрашивающие аутентификацию openid интернет ресурсы или провайдеров openid конечный пользователь может свободно выбирать какого провайдера openid использовать сохранять идентификатор случае изменения провайдера openid технологические требования стандарт не требует javascript или современных браузеров однако схема аутентификации хорошо совместима подходом ajax это значит что конечный пользователь может проходить аутентификацию на сайте не покидая текущую страницу этом случае коммуникация интернет ресурса openid провайдером будет проходить фоновом режиме openid аутентификация использует только стандартные http запросы ответы поэтому стандарт не требует от пользователя установки дополнительного программного обеспечения для работы openid не требуется использовать cookie или какие либо другие механизмы управления сессией различные расширения могут упростить использование openid но не являются обязательными для использования стандарта устройство протокола терминология идентификатор identifier http или https uri url или xri начиная openid протоколе используется несколько видов идентификаторов интернет сервис relying party веб приложение которое хочет проверить подлинность идентификатора пользователя провайдер openid openid provider сервер openid аутентификации который подтверждает интернет сервису подлинность идентификатора конечного пользователя url конечной точки провайдера openid provider endpoint url url который принимает запросы аутентификации по протоколу openid может быть получен из предъявляемого идентификатора идентификатор провайдера op identifier идентификатор по которому можно определить openid провайдера предъявляемый идентификатор user supplied identifier идентификатор предъявляемый конечным пользователем интернет сервису предъявляемый идентификатор может совпадать op идентификатором заявленный идентификатор claimed identifier идентификатор владении которым заявляет пользователь проверка данного утверждения является главной целью протокола openid заявленный идентификатор может быть получен из предъявленного путем его нормализации механизм работы конечный пользователь инициирует процесс аутентификации на интернет сервисе для этого он вводит предъявляемый идентификатор форму входа представленную на сайте из предъявляемого идентификатора интернет сервис определяет url конечной точки openid провайдера используемого конечным пользователем предъявляемый идентификатор может содержать только идентификатор провайдера этом случае конечный пользователь указывает свой заявленный идентификатор взаимодействуя провайдером не обязательно интернет сервис openid провайдер создают общий секретный ключ для кода аутентификации сообщения по протоколу диффи хеллмана помощью кода аутентификации сообщения интернет сервис аутентифицирует сообщение от провайдера без дополнительных запросов нему для проверки подлинности режиме checkid_setup интернет сервис перенаправляет браузер пользователя на сайт провайдера для дальнейшей аутентификации режиме коммуникация браузера провайдером происходит незаметно для пользователя провайдер проверяет авторизирован ли пользователь на сервере хочет ли он на интернет сервисе спецификация openid не описывает процесс аутентификации пользователя на стороне провайдера провайдер перенаправляет браузер пользователя назад интернет сервис передавая сервису результат аутентификации интернет сервис проверяет подлинность информации полученной от провайдера включая возвращённый url информацию пользователе одноразовую метку nonce подпись сообщения если на шаге был создан общий секретный ключ то проверка происходит помощью него если ключ создан не был то интернет сервис отправляет провайдеру дополнительный запрос для проверки подлинности первом случае интернет сервис называется зависимой стороной без памяти stateless во втором немой dumb случае успешной проверки интернет сервис аутентифицирует пользователя openid foundation openid foundation oidf это некоммерческая организация которая была сформирована июне года для того чтобы управлять авторскими правами товарными знаками маркетинговыми компаниями другой деятельностью связанной openid сообществом совет директоров организации составляют члена сообщества корпоративных членов члены сообщества джон бредли independent англ john bradley джордж флетчер aol англ george fletcher майк джонс microsoft англ mike jones нат сакимура nomura research institute англ nat sakimura корпоративные члены google адам доус англ adam dawes microsoft энтони надалин англ anthony nadalin ping identity памела дингл англ pamela dingle symantec брайан берлинер англ brian berliner verizon бьорн хельм англ bjorn hjelm oracle пратик мишра англ prateek mishra vmware ашиш джейн англ ashish jain департамент здравоохранения социальных служб сша дэбби бучи англ debbie bucci сша марте года openid foundation товарный знак openid ранее он принадлежал компании netmesh inc европе августа года товарный знак openid был зарегистрирован openid europe foundation история версий openid openid аутентификация предоставляет способ доказать конечному пользователю свою личность на сайте без ввода его пароля mail или другой информации которую он не желает вводить на данном ресурсе спецификация openid не предусматривает какого либо механизма для обмена информации профиле конечного пользователя openid основным отличием openid от openid для конечного пользователя является возможность использования xri качестве идентификатора openid отличие от openid поддерживает алгоритм hmac sha битной цифровой подписи что делает аутентификацию openid сообщений безопаснее openid появился механизм расширений позволяющий добавлять запросам ответам дополнительную информацию openid совместим openid openid connect третье поколение openid технологии которое представляет из себя надстройку над протоколом авторизации oauth openid connect позволяет интернет ресурсам проверить личность пользователя на основе аутентификации выполненной авторизационным сервером для работы используется restful api описанное спецификации также openid connect определены дополнительные механизмы для надёжного шифрования цифровой подписи стандарт позволяет использовать дополнительные возможности такие как управление сессиями обнаружение openid провайдеров то время как для интеграции стандарта oauth openid требуется расширение openid connect возможности oauth уже интегрированы самим протоколом уязвимости фишинговые атаки некоторые исследователи считают что протокол openid уязвим фишинговым атакам когда вместо провайдера злоумышленники направляют конечного пользователя на сайт похожим дизайном если пользователь не замечает подмены то он вводит свои данные логин пароль результате злоумышленники могут представляться интернет ресурсам данным пользователем получить доступ его информации хранящейся на этих ресурсах также возможны фишинговые атаки когда подделывается сайт поддерживающий openid авторизацию целью получения от провайдера информации пользователе используя уязвимость скрытая переадресация злоумышленники могут создать для пользователя иллюзию что информация запрашивается настоящим сайтом openid не содержит механизмов предотвращения фишинговых атак ответственность за фишинговые атаки перекладывается на провайдеров openid для защиты от фишинга пользователи могут использовать дополнительное программное обеспечение например microsoft identity selector также существуют решения не требующие установки дополнительного программного обеспечения например beamauth использующий для своей работы закладки браузере атака человек посередине при незащищённом соединении если для защиты соединения между пользователем openid провайдером не используются протоколы tls ssl то на последней стадии аутентификации возникает уязвимость для перенаправления пользователя от себя интернет сервису провайдер передает пользователю специальный url проблема заключается том что любой кто может получить этот url например путем сниффинга витой пары может воспроизвести его получить доступ на сайт как пользователь некоторые провайдеры для защиты от этой атаки используют одноразовый код nonce который позволяет воспользоваться данным url только один раз нонс решение работает только случае когда пользователь первым использует url однако злоумышленник который прослушивает канал связи находится между пользователем провайдером может получить url немедленно прервать tcp соединение пользователя затем выполнить атаку таким образом одноразовые коды защищают только от пассивных злоумышленников но не могут предотвратить атак активного злоумышленника использование tls ssl процессе аутентификации устраняет этот риск идентификатора пользователь может поменять openid провайдера освободив таким образом свой идентификатор предыдущего провайдера новый пользователь может занять этот идентификатор использовать его на тех же сайтах что предыдущий пользователь это даст новому пользователю доступ ко всей информации связанной этим идентификатором данная ситуация может возникнуть случайно необязательно чтобы новый пользователь был злоумышленником хотел получить доступ указанной информации спецификации openid для решения проблемы идентификатора рекомендуется использовать фрагменты идентификатору должен добавляться фрагмент уникальный для каждого пользователя ошибки аутентификации году исследователи опубликовали работу описывающую две уязвимости openid обе уязвимости позволяют злоумышленнику получить доступ аккаунту жертвы первая уязвимость использует openid attribute exchange проблема заключается том что некоторые интернет сервисы не проверяют данные переданные через attribute exchange если attribute exchange используется для передачи подмене информации пользователе например пол то данной уязвимостью воспользоваться не удастся однако attribute exchange может также использоваться для передачи например email пользователя злоумышленник осуществляет попытку аутентификации на сайте зависимой стороны добавляет ответ провайдера email жертвы если зависимая сторона не проверяет подлинность этой информации то злоумышленник будет идентифицирован как жертва так можно получить доступ любому аккаунту согласно отчету исследователей этой атаке были подвержены многие популярные сайты включая yahoo mail вторая уязвимость связана ошибкой на стороне провайдера тоже позволяет получить доступ аккаунту на сайте зависимой стороны ответ провайдера содержит поле openid ext value email которое обрабатывается зависимой стороной как email пользователя однако тип данных который добавляется провайдером данное поле может злоумышленником запрос провайдеру содержит поле type email ссылкой на схему описывающую данное поле атакующий может добавить type email ссылку на схему описывающую имя пользователя если злоумышленник может на сайте провайдера именем например alice example com то провайдер добавит это имя поле openid ext value email зависимая сторона будет считать что аккаунт данным email принадлежит злоумышленнику уязвимыми были признаны реализации google paypal openid опубликовала отчёты по обеим уязвимостям были выпущены обновления исправляющие их примечания литература категория аутентификация категория уникальные идентификаторы категория интернет