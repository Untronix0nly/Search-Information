уте чка па мяти процесс уменьшения объёма свободной оперативной или виртуальной памяти компьютера связанный ошибками работающих программах вовремя не освобождающих ненужные участки памяти или ошибками системных служб контроля памяти что такое утечка памяти рассмотрим следующий фрагмент кода на char pointer null for int этом примере на строке создается объект динамической памяти код на строке выполняется раз причём каждый следующий раз адрес нового объекта перезаписывает значение хранящееся указателе pointer на строке выполняется удаление объекта созданного на последней итерации цикла однако первые объектов остаются динамической памяти одновременно программе не остаётся переменных которые бы хранили адреса этих объектов строке невозможно ни получить доступ первым объектам ни удалить их чем опасны утечки памяти динамическая память является ограниченным ресурсом управление динамической памятью программы обычно осуществляется библиотекой языка которая сама работает поверх динамической памяти предоставляемой операционной системой утечки памяти приводят тому что потребление памяти программой неконтролируемо возрастает результате рано или поздно вступают действие архитектурные ограничения среды исполнения операционной системы виртуальной машины эвм тогда новое выделение памяти становится невозможным этой ситуации программе которая запрашивает память обычно происходит аварийная остановка это может по стечению обстоятельств произойти совсем другой программой после того как программа подверженная утечкам исчерпает всю память эвм способы предотвращения существуют различные способы предотвращения утечек памяти отказ от динамической памяти например fortran полностью отказывается от применения механизмов динамического распределения памяти что исключает подобные ошибки но существенно ограничивает программ владеющие указатели владеющие указатели позволяют той или иной мере согласовать время жизни указателя время жизни объекта на который он ссылается тем не менее использование владеющих указателей не помогает случае циклических ссылок между объектами подробнее см паттерн получение ресурса есть инициализация сборка мусора некоторые языки например оберон java языки платформы net предоставляют средства позволяющие автоматически освобождать неиспользуемую память сборщик мусора сборщики мусора решают также проблему циклических ссылок но сборка мусора является ресурсоёмкой операцией за использование подобных средств приходится расплачиваться быстродействием системы главное сборка мусора вносит неожиданные паузы программу что недопустимо системах реального времени сборка мусора была изобретена джоном маккарти примерно году при разработке языка лисп структура которого делает крайне затруднительным ручное управление памятью перезапуск программы тех случаях когда устранить утечки памяти не представляется возможным например при использовании кода поставляемого виде программных модулей изготовленного сторонними разработчиками применяют своеобразный способ игнорирования утечек код подверженный утечкам размещают отдельной программе эту программу нужной периодичностью перезапускают запуски перезапуски программы выполняются внешней программой которая также подаёт исходные данные забирает результаты поскольку при завершении программы вся память затребованная ей операционной системы возвращается операционной системе такой метод не позволяет утечкам приобрести характер утечка других ресурсов также существует ошибка именуемая утечкой дескрипторов захваченные дескрипторы не возвращаются операционной системе для борьбы последствиями таких ошибок разработчики операционных систем вводят них позволяющую ограничивать объём памяти количество дескрипторов количество процессорного времени доступного одному пользователю или конкретному процессу обнаружение утечек для языков существуют специальные программы профилировщики позволяющие обнаружить числе прочего утечки памяти для некоторых языков существуют статические анализаторы кода выявляющие элементы программы потенциально способные приводить логическим ошибкам том числе утечке памяти примитивный вариант такого анализатора реализует практически любой компилятор языка высокого уровня виде выдачи так называемых предупреждений warnings сообщений наличии программе конструкций формально не нарушающих синтаксис языка но потенциально ошибочных существуют библиотеки для отладки использования памяти помогающие следить за выделением освобождением памяти во время работы программы см также динамический анализ кода dmalloc valgrind totalview ссылки dpus free tool that shows leaks under windows buffers gdi objects registry keys user handles etc why doesn my application release the memory java faq visual leak detector for visual studio detecting memory leak using mfc debugging support is your memory not what it used to be memory leak detection in memory leak detection in embedded systems java memory leaks catch me if you can sample chapter from bitter java memory leaks be gone memory management in objective борьба утечками ресурсов реальном времени альтернативный менеджер памяти delphi среди прочего ищет утечки памяти категория ошибки категория программистский сленг