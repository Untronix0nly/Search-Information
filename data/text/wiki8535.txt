ppp двухточечный протокол канального уровня data link сетевой модели osi обычно используется для установления прямой связи между двумя узлами сети причём он может обеспечить аутентификацию соединения шифрование использованием ecp rfc сжатие данных используется на многих типах физических сетей нуль модемный кабель телефонная линия сотовая связь часто встречаются подвиды протокола ppp такие как point to point protocol over ethernet pppoe используемый для подключения по ethernet иногда через dsl point to point protocol over atm pppoa который используется для подключения по atm adaptation layer aal который является основной альтернативой pppoe для dsl ppp представляет собой целое семейство протоколов протокол управления линией связи lcp протокол управления сетью ncp протоколы аутентификации pap chap многоканальный протокол ppp mlppp основные характеристики ppp протокол был разработан на основе hdlc дополнен некоторыми возможностями которые до этого встречались только проприетарных протоколах автоматическая настройка link control protocol lcp обеспечивает автоматическую настройку интерфейсов на каждом конце например установка размера пакетов опционально проводит аутентификацию протокол lcp работает поверх ppp то есть начальная ppp связь должна быть до работы lcp rfc описывает challenge handshake authentication protocol chap который является для соединений провайдерами уже устаревший password authentication protocol pap всё ещё иногда используется другим вариантом аутентификации через ppp является extensible authentication protocol eap после того как соединение было установлено поверх него может быть настроена дополнительная сеть обычно используется internet protocol control protocol ipcp хотя internetwork packet exchange control protocol ipxcp appletalk control protocol atcp были когда то популярны internet protocol version control protocol ipv cp получит большее распространение будущем когда ipv заменит ipv как основной протокол сетевого уровня поддержка ppp позволяет работать нескольким протоколам сетевого уровня на одном канале связи другими словами внутри одного ppp соединения могут передаваться потоки данных различных сетевых протоколов ip novell ipx также данные протоколов канального уровня локальной сети для каждого сетевого протокола используется network control protocol ncp который его конфигурирует согласовывает некоторые параметры протокола ppp ncp обеспечивает процесс создания соединения через ppp инициирует настраивает различные протоколы сетевого уровня такие как ip ipx или appletalk microsoft ppp поддерживает следующие ncp internet protocol control protocol ipcp для настройки ip internetwork packet exchange control protocol ipxcp для настройки ipx appletalk control protocol atcp для настройки appletalk netbios frames control protocol nbfcp для настройки netbeui обнаружение закольцованных связей ppp обнаруживает закольцованные связи используя особенность включающую magic numbers когда узел отправляет ppp lcp сообщения они могут включать себя магическое число если линия закольцована узел получает сообщение lcp его собственным магическим числом вместо получения сообщения магическим числом клиента наиболее важные особенности link control protocol устанавливает завершает соединения позволяя узлам определять настройки соединения также он поддерживает байт кодировки network control protocol используется для определения настроек сетевого уровня таких как сетевой адрес или настройки сжатия после того как соединение было установлено опции ppp так как ppp входит lcp протокол то можно управлять следующими lcp параметрами аутентификация rfc описывает challenge handshake authentication protocol chap который является для проведения аутентификации ppp хотя password authentication protocol pap иногда ещё используется другим вариантом для аутентификации является extensible authentication protocol eap сжатие эффективно увеличивает пропускную способность ppp соединения за счёт сжатия данных кадре наиболее известными алгоритмами сжатия ppp кадров являются stacker predictor обнаружение ошибок включает quality protocol помогает выявить петли обратной связи посредством magic numbers rfc multilink ppp mlppp mppp mlp предоставляет методы для распространения трафика через несколько физических каналов имея одно логическое соединение этот вариант позволяет расширить пропускную способность обеспечивает балансировку нагрузки ppp кадр каждый кадр ppp всегда начинается завершается байтом затем следует байт адреса байт управления которые тоже всегда равны xff соответственно связи вероятностью совпадения байтов внутри блока данных флагами существует система автоматической корректировки проблемных данных последующим восстановлением флаг адрес xff управление данные контрольная сумма флаг поля флаг адрес управление заголовок кадра hdlc могут быть опущены не передаваться но это произойдёт если ppp процессе используя lcp договорится об этом если ppp инкапсулирован tp пакеты то поле флаг не передаётся тип кадра данных ppp поле данные ppp кадра свою очередь разбиты ещё на два поля флаг протокола который определяет тип данных до конца кадра сами данные протокол xxxxx данные или более флаги протокола от xxx до xxx идентифицируют протоколы сетевого уровня например популярному ip протоколу соответствует флаг novell ipx флаги протокола от xxx до xxx идентифицируют протоколы низким уровнем трафика флаги протокола от xxx до xbxxx идентифицируют протокол управления сетью ncp флаги протокола от xcxxx до xexxx идентифицируют управляющие протоколы например xc обозначает что кадр содержит данные протокола управления соединением lcp активации канала ppp его фазы диаграмма изображающая фазы ppp по rfc фазы ppp по rfc указаны ниже link dead эта фаза наступает когда связь нарушена либо одной из сторон указали не подключаться например пользователь завершил модемное соединение link establishment phase данной фазе проводится настройка link control если настройка была успешной управление переходит фазу аутентификации либо фазу network layer protocol зависимости от того требуется ли аутентификация authentication phase данная фаза является необязательной она позволяет сторонам проверить друг друга перед установкой соединения если проверка успешна управление переходит фазу network layer protocol network layer protocol phase данной фазе вызывается ncp для желаемого протокола например ipcp используется для установки ip сервисов передача данных по всем успешно установленным протоколам также проходит этой фазе закрытие сетевых протоколов тоже включается данную фазу link termination phase эта фаза закрывает соединение она вызывается случае ошибок аутентификации если было настолько много ошибок контрольных сумм что обе стороны решили закрыть соединение если соединение неожиданно оборвалось либо если пользователь отключился данная фаза пытается закрыть всё настолько аккуратно насколько возможно данных обстоятельствах документы rfc протокол ppp определен rfc the point to point protocol июль ряд соответствующих rfc был написан чтобы определить как различные сетевые протоколы включая tcp ip decnet appletalk ipx другие работают ppp rfc standard протокол точка точка ppp rfc standard использование hdlc разработке ppp rfc аутентификация ppp посредством chap rfc ipv ppp примечания см также pptp lcp ipcp mppe pppd gre slip категория протоколы канального уровня