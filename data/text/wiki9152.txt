template toolkit мощная легковесная perl библиотека для работы шаблонами позволяющая разделять код данные представление легковесная данном случае обозначает что взаимодействие пользователем работа базой данных вызов шаблонов на обработку отображение производится через perl скрипты содержащие всю логику работы см бизнес логика сами шаблоны отвечают преимущественно за дизайн представление это отличие от полновесных систем разработки frameworks которых перл очень тесно интегрируется html предоставляющих дополнительную для работы веб страницами например сессии следует однако отметить что точки зрения скорости работы согласно результатам тестов библиотека не является легковесной заметно проигрывает другим шаблонизаторам возможности преимущества специфика template toolkit используется свой язык обладающий богатым но простым для изучения синтаксисом простой пример шаблона title вывод списка foreach items end скрипт вызывающий его usr bin perl use template my tt new template include_path path to templates путь каталогу шаблонами my vars title заголовок страницы items один два три print content type text html tt process page htm vars по умолчанию качестве разделителей блоков кода используются но можно использовать любую другую символов например так далее причём изменять можно любое время прямо внутри шаблона ниже представлен список некоторых возможностей template toolkit позволяет без затруднений разрабатывать страницы сайта по любой схеме сверху вниз снаружи внутрь изнутри наружу использует унифицированный синтаксис для всех типов данных hash key обращению ключу хэша array элемент массива индексом object method вызов метода объекта таким образом получается что неважно что содержится переменной строка функция блок или что то другое всё вызывается единообразно для ускорения работы шаблоны при первой обработке компилируются перл скрипты зависимости от настроек сохраняются на диск или память благодаря этому скорость работы движка очень велика близка чистому перлу позволяет для нескольких шаблонов использовать общие данные настройки переменные константы функции так далее развитая система написания плагинов фильтров позволяет легко написать собственные плагины фильтры или использовать множество уже существующих поставляются вместе template toolkit позволяет вставлять внутрь шаблонов сырой перл качестве блоков могут выступать как отдельные файлы так блоки определяемые внутри внешнего или текущего файла появившееся со второй версии нововведение виды views позволяет создавать шаблоны применением объектно подхода может обрабатывать xml файлы преобразуя их html представляя таким образом альтернативу xslt поставку входят скрипты утилиты позволяющие из произвольного набора файлов шаблонов сгенерировать требуемый набор html страниц хорошая документация которая многими признаётся золотым стандартом документации среди библиотек перла полный список возможностей template toolkit очень велик более подробно ними можно ознакомиться по документации которую можно найти по ссылкам внизу страницы недостатки из за того что перле присутствуют переменные разных типов template toolkit все они вызываются одинаково возникают неоднозначности есть особенности работы объектами хэшами объектами массивами при попытке прохода по объекту массиву через foreach выяснится что списке будет присутствовать только один элемент сам объект при обращения элементу arrayobj index где index индекс требуемого элемента template toolkit попытается вызвать метод таким именем методов именами языках общем то не бывает для решения этих проблем код класса нужно добавить метод as_list именно его template tookit вызывает при использовании foreach sub as_list смысл этого кода состоит том что берётся сам объект превращается обычный массив сразу же преобразуется ссылку на массив то что нужно для foreach как as_list помогает при выборке конкретных элементов из объекта aref aref_object as_list aref aref проблемы вызывает присутствие классе функции autoload она перехватывает все вызовы виртуальных методов template toolkit так как template toolkit пытается сначала найти метод объекта указанным именем только при неудаче найти одноимённый ключ хэша становится понятно что autoload также перехватывает все вызовы ключам хэша вторую проблему можно решить так sub autoload my sub_name autoload найти имя запрашиваемого метода if exists sub_name если объекта существует ключ именем sub_name return sub_name то вернуть его подсказки имеется массив aref переменная ix мы хотим вывести элемент массива по индексу указанному ix так будет неправильно aref ix этом случае будет произведена попытка вызова метода ix так правильно aref ix знак доллара используется для подстановки значения переменной выражение примечания при том что template tookit считается легковесной шаблонной библиотекой развитый синтаксис большой набор дополнительных возможностей обозначают уклон сторону тяжеловесов хотя вызов шаблона на обработку осуществляется из перл скрипта существует возможность встраивать команды template toolkit прямо код обычных html страниц которые пользователи запрашивают напрямую для этого надо установить модуль apache template произвести небольшую настройку сервера apache авторы создатель библиотеки andy wardley загрузить последнюю версию библиотеки template toolkit nn tar gz можно на cpan ссылки на ресурсы см ниже ссылки внешние ресурсы официальный сайт сайт на русском языке страница скачки на официальном сайте раздел cpan где можно найти последнюю версию template toolkit версия для версия для haskell плагин для eclipse разработчики использующие windows могут скачать архив всё одном содержащий apache perl mod perl множество полезных библиотек не входящих стандартную поставку языка perl среди которых есть template toolkit apache template архив находится здесь ftp theoryx uwinnipeg ca pub cpan библиотеки для работы шаблонами perl легковесные mvc template toolkit html template text template cgi fasttemplate системы разработки приложений embperl apache asp html mason категория модули perl категория свободные библиотеки программ категория