прерывание сигнал от программного или аппаратного обеспечения сообщающий процессору наступлении какого либо события требующего немедленного внимания прерывание извещает процессор наступлении события требующего прерывания текущего кода выполняемого процессором процессор отвечает приостановкой своей текущей активности сохраняя свое состояние выполняя функцию называемую обработчиком прерывания или программой обработки прерывания которая реагирует на событие обслуживает его после чего возвращает управление прерванный код зависимости от источника возникновения сигнала прерывания делятся на асинхронные или внешние аппаратные события которые исходят от внешних аппаратных устройств например периферийных устройств могут произойти любой произвольный момент сигнал от таймера сетевой карты или дискового накопителя нажатие клавиш клавиатуры движение мыши факт возникновения системе такого прерывания трактуется как запрос на прерывание устройства сообщают что они требуют внимания со стороны ос синхронные или внутренние события самом процессоре как результат нарушения каких то условий при исполнении машинного кода деление на ноль или переполнение стека обращение недопустимым адресам памяти или недопустимый код операции программные частный случай внутреннего прерывания инициируются исполнением специальной инструкции коде программы программные прерывания как правило используются для обращения функциям встроенного программного обеспечения firmware драйверов операционной системы термин ловушка иногда используется как синоним термина прерывание или внутреннее прерывание как правило устанавливается документации производителя конкретной архитектуры процессора маскирование внешние прерывания зависимости от возможности запрета делятся на маскируемые прерывания которые можно запрещать установкой соответствующих битов регистре маскирования прерываний процессорах сбросом флага if регистре флагов немаскируемые обрабатываются всегда независимо от запретов на другие прерывания примеру такое прерывание может быть вызвано сбоем микросхеме памяти обработчики прерываний обычно пишутся таким образом чтобы время их обработки было как можно меньшим поскольку во время их работы могут не обрабатываться другие прерывания если их будет много особенно от одного источника то они могут теряться windows для этого применяется механизм отложенного вызова процедур приоритизация до окончания обработки прерывания обычно устанавливается запрет на обработку этого типа прерывания чтобы процессор не входил цикл обработки одного прерывания приоритизация означает что все источники прерываний делятся на классы каждому классу назначается свой уровень приоритета запроса на прерывание относительное обслуживание прерываний означает что если во время обработки прерывания поступает более приоритетное прерывание то это прерывание будет обработано только после завершения текущей процедуры обработки прерывания абсолютное обслуживание прерываний означает что если во время обработки прерывания поступает более приоритетное прерывание то текущая процедура обработки прерывания вытесняется процессор начинает выполнять обработку вновь поступившего более приоритетного прерывания после завершения этой процедуры процессор возвращается выполнению вытесненной процедуры обработки прерывания таблица прерываний вектор прерывания закреплённый за устройством номер который идентифицирует соответствующий обработчик прерываний векторы прерываний объединяются таблицу векторов прерываний содержащую адреса обработчиков прерываний местоположение таблицы зависит от типа режима работы процессора программное прерывание программное прерывание синхронное прерывание которое может осуществить программа помощью специальной инструкции процессорах архитектуры для явного вызова синхронного прерывания имеется инструкция int аргументом которой является номер прерывания от до ibm pc совместимых компьютерах обработку некоторых прерываний осуществляют подпрограммы bios хранящиеся пзу прерывание служит интерфейсом для доступа сервису bios также обслуживание прерываний могут взять на себя bios карт расширений например сетевых или видеокарт операционная система даже обычные прикладные программы которые постоянно находятся памяти во время работы других программ резидентные программы отличие от реального режима защищённом режиме процессоров обычные программы не могут обслуживать прерывания эта функция доступна только системному коду операционной системе ms dos использует для взаимодействия со своими модулями прикладными программами прерывания номерами от до fh числа даны системе счисления как это принято при на языке ассемблера например доступ основному множеству функций ms dos осуществляется исполнением инструкции int при этом номер функции её аргументы передаются регистрах это распределение номеров прерываний не закреплено аппаратно другие программы могут устанавливать свои обработчики прерываний вместо или поверх уже имеющихся обработчиков установленных ms dos или другими программами что как правило используется для изменения или расширения списка системных функций также этой возможностью пользуются вирусы см также событие объектно ориентированное int int message signaled interrupts контроллер прерываний apic ralf brown interrupt list примечания литература intel and ia architectures software developer manual пяти томах том system programming guide chapter interrupt and exception handling категория технологии процессоров категория операционная система категория категория компьютерные шины