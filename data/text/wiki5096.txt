файл именованная область данных на носителе информации работа файлами реализуется средствами операционных систем многие операционные системы приравнивают файлам обрабатывают сходным образом другие ресурсы области данных необязательно на диске устройства как физические например порты или принтеры так виртуальные dev null dev random dev urandom потоки данных именованный канал сетевые ресурсы сокеты прочие объекты операционной системы история файл перфокарт два жёстких диска машины слово file впервые применено компьютерному хранилищу году реклама памяти на запоминающих элт фирмы rca журнале popular science гласила году слово file отнесли колоде перфокарт поначалу словом file называли само устройство памяти не его содержимое см регистровый файл например диски ibm например машине ibm назывались disk files системы наподобие compatible time sharing system ввели концепцию файловой системы когда на одном запоминающем устройстве существует несколько виртуальных устройств памяти что дало слову файл современное значение имена файлов ctts состояли из двух частей основного имени дополнительного имени последнее существует поныне как расширение имени файла файловая система по мере развития вычислительной техники файлов системах становилось всё больше для удобства работы ними их как другие данные стали организовывать структуры тогда же появились символьные имена вначале это был простой массив привязанный конкретному носителю информации настоящее время наибольшее распространение получила древовидная организация возможностью монтирования вставки дополнительных связей то есть ссылок соответственно имя файла приобрело характер пути файлу перечисление узлов дерева файловой системы которые нужно пройти чтобы до него добраться файл как объект api операционной системы операционная система предоставляет приложениям набор функций структур для работы файлами возможности операционной системы накладывают дополнительные ограничения на ограничения файловой системы точки зрения api файл объект по отношению которому могут быть применены функции этого api на уровне api уже не существенно существует ли файл как объект файловой системы или является например устройством ввода вывода свойства файла зависимости от файловой системы файл может обладать различным набором свойств имя файла большинстве файловых систем имя файла используется для указания какому именно файлу производится обращение различных файловых системах ограничения на имя файла сильно различаются fat fat размер имени файла ограничен знаками на имя на расширение других системах имя файла ограничено обычно байт ntfs имя ограничено некоторых ос символами unicode по спецификации символов помимо ограничений файловой системы интерфейсы операционной системы дополнительно ограничивают набор символов который допустим при работе файлами для ms dos имени файла допустимы только заглавные латинские буквы цифры недопустимы пробел знак вопроса звёздочка символы больше меньше символ вертикальной черты при вызове системных функций имена файлов нижнем или смешанном регистре приводятся верхнему регистру для windows имени файла разрешены заглавные строчные буквы цифры некоторые знаки препинания пробел запрещены символы для gnu linux учётом возможности маскировки разрешены все символы кроме нуль символа большинство операционных систем требуют уникальности имени файла одном каталоге хотя некоторые системы допускают файлы одинаковыми именами например при работе ленточными накопителями некоторых файловых системах можно создавать использовать файлы без имени такие файлы всегда являются временными их основные преимущества при создании не может возникнуть конфликта имён их нельзя найти их каталоге по имени остальном это полноценные файлы расширение имени файла расширение имени файла часто расширение файла или расширение как самостоятельный атрибут файла существует файловых системах fat fat ntfs используемых операционными системами ms dos dr dos pc dos ms windows используется для определения типа файла оно позволяет системе определить каким приложением следует открывать данный файл по умолчанию операционной системе windows расширение скрыто от пользователя остальных файловых системах расширение условность часть имени отделённая самой правой точкой имени суффикс основные атрибуты некоторых файловых системах таких как ntfs предусмотрены атрибуты обычно это бинарное значение да нет кодируемое одним битом во многих современных операционных системах атрибуты практически не влияют на возможность доступа файлам для этого некоторых операционных файловых системах существуют права доступа название атрибута перевод значение файловые системы операционные системы read only только для чтения файл запрещено редактировать fat fat fat ntfs hpfs vfat dos os windows system системный критический для работы операционной системы файл fat fat fat ntfs hpfs vfat dos os windows hidden скрытый файл скрывается от показа пока явно не указано обратное fat fat fat ntfs hpfs vfat dos os windows archive архивный требующий архивации файл изменён после резервного копирования или не был скопирован программами резервного копирования при изменении файла ос автоматически устанавливает этот атрибут fat fat fat ntfs hpfs vfat dos os windows suid установка id выполнение программы от имени владельца ext unix like sgid установка группового id выполнение программы от имени группы для каталогов любой файл созданный каталоге установленным sgid получит заданную группу владельца ext unix like sticky bit липкий бит изначально предписывал ядру не выгружать завершившуюся программу из памяти сразу лишь спустя некоторое время чтобы избежать постоянной загрузки диска наиболее часто используемых программ настоящее время разных ос используется по разному ext unix like время для файла могут быть определены временные метки создания последней модификации последнего доступа другие владелец группа файла некоторых файловых системах предусмотрено указание на владельца файла группу владельца права доступа некоторых файловых системах предусмотрена возможность для ограничения доступа пользователей содержимому файла unix подобных операционных системах для файлов ранее обычно выделяли три типа прав на запись чтение выполнение каждое право задаётся раздельно для владельца для группы для всех остальных acl позволяет использовать более детальное разделение прав пользователей операционных системах windows nt при работе файловой системой ntfs права доступа задаются явно для пользователей или групп или наследуются от вышестоящих объектов права себя включают право на чтение запись исполнение удаление смену атрибутов владельца создание удаление подпапок для папок чтение прав доступа другие как posix каждое право может быть задано как разрешением так запретом запрет имеет больший приоритет чем разрешение отличие от posix операции файлом условно можно выделить два типа операций файлом связанные его открытием выполняющиеся без его открытия операции первого типа обычно служат для чтения записи информации или подготовки чтению или записи операции второго типа выполняются файлом как объектом файловой системы котором файл является наименьшим элементом операции связанные открытием файла зависимости от операционной системы те или иные операции могут отсутствовать обычно выделяют дополнительные сущности связанные работой файлом дескриптор файла хэндлер описатель при открытии файла случае если это возможно операционная система возвращает число или указатель на структуру помощью которого выполняются все остальные файловые операции по их завершении файл закрывается хэндлер теряет смысл файловый указатель число являющееся смещением относительно нулевого байта файле обычно по этому адресу осуществляется чтение запись случае если вызов операции чтения или записи не предусматривает указание адреса при выполнении операций чтения или записи файловый указатель увеличивается на число прочитанных или записанных байт вызов операций чтения таким образом позволяет прочитать весь файл последовательно не заботясь файловый буфер операционная система или библиотека языка осуществляет кэширование файловых операций специальном буфере участке памяти при закрытии файла буфер сбрасывается режим доступа зависимости от потребностей программы файл может быть открыт на чтение или запись кроме того некоторые операционные системы библиотеки предусматривают режим работы текстовыми файлами режим обычно указывается при открытии файла режим общего доступа случае многозадачной операционной системы возможна ситуация когда несколько программ одновременно хотят открыть файл на чтение или запись для регулирования этого существуют режимы общего доступа указывающие на возможность осуществления совместного доступа файлу например файл который производится запись может быть открыт для чтения другими программами это стандартный режим работы файлами регистрации операции открытие файла обычно качестве параметров передается имя файла режим доступа режим совместного доступа качестве результата выступает файловый дескриптор кроме того обычно имеется возможность случае открытия на запись указать на то должен ли размер файла изменяться на нулевой закрытие файла качестве аргумента выступает значение полученное при открытии файла при закрытии все файловые буферы сбрасываются запись файл помещаются данные чтение данные из файла помещаются область памяти перемещение указателя указатель перемещается на указанное число байт вперёд или назад или перемещается по указанному смещению относительно начала или конца не все файлы позволяют выполнение этой операции например файл на ленточном накопителе может не уметь перематываться назад сброс буферов содержимое файловых буферов не записанной файл информацией записывается используется обычно для указания на завершение записи логического блока для сохранения данных файле на случай сбоя получение текущего значения файлового указателя операции не связанные открытием файла операции не требующие открытия файла оперируют его внешними признаками размером именем положением дереве каталогов при таких операциях невозможно получить доступ содержимому файла файл является минимальной единицей деления информации возможные операции файлами создание удаление переименование копирование перенос на другую файловую систему создание символьной ссылки или жёсткой ссылки получение изменение атрибутов зависимости от файловой системы носителя информации операционной системы часть операций может быть недоступна типы файлов по способу организации файлы делятся на файлы произвольным доступом файлы доступом различных операционных файловых системах могут быть реализованы различные типы файлов кроме того реализация различных типов может различаться обыкновенный файл файл позволяющий операции чтения записи внутри файла изменения размера иногда работу атрибутами каталог алфавитный справочник или директория также папка файл содержащий записи входящих него файлах каталоги могут содержать записи других каталогах образуя древовидную структуру при наличии ссылок сетевую структуру жёсткая ссылка часто используется калька хардлинк общем случае одна та же область информации может иметь несколько имён такие имена называют жёсткими ссылками хардлинками после создания жёсткой ссылки сказать где настоящий файл где жёсткая ссылка невозможно так как имена равноправны сама область данных существует до тех пор пока существует хотя бы одно из имён жёсткие ссылки возможны только пределах одного экземпляра фс символьная ссылка симлинк софтлинк символическая ссылка файл содержащий себе ссылку на имя нужного файла любого типа может ссылаться на любой элемент файловой системы том числе расположенный на другом физическом носителе некоторых фс может ссылаться на несуществующий файл образовывать циклы ссылаться на себя особенности реализации операционной системе unix процессы обычно находятся каталоге proc устройства dev представляются виде файлов особого типа что позволяет использовать некоторые файловые операции для манипуляции этими объектами некоторых файловых системах например файловой системе os vax vms файлы имеют версию что позволяет открывать более старые варианты данного файла файловой системе mac os hfs файлов есть два потока поток данных где хранится содержимое файла поток ресурсов хранящий информацию программе предназначенной для открывания данного файла возможно некоторую информацию для этой программы ntfs файл может содержать кроме основного сколько угодно именованных потоков проблема точного определения понятия файл так как файл разных операционных системах обладает различным набором атрибутов свойств методов доступа универсального определения которое бы учитывало все особенности сформулировано не было см также атрибут файла список форматов файлов двоичный файл текстовый файл медиаконтейнер временный файл разрежённый файл исполнимый модуль заголовочный файл пакетный файл файл конфигурации файл регистрации readme файл метафайл примечания категория файловые системы категория файлы