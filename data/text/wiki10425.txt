информатике inode произносится йнод или ино индексный дескриптор это структура данных традиционных для ос unix файловых системах фс таких как ufs ext этой структуре хранится метаинформация стандартных файлах каталогах или других объектах файловой системы кроме непосредственно данных имени подробности при создании файловой системы создаются также структуры данных содержащие информацию файлах каждый файл имеет свой индексный дескриптор по уникальному номеру часто называемому номером или инодом файловой системе которой располагается сам файл индексные дескрипторы хранят информацию файлах такую как принадлежность владельцу пользователю группе режим доступа чтение запись запуск на выполнение тип файла существует определенное число индексных дескрипторов которое указывает максимальное количество файлов допускаемое определенной файловой системой обычно при создании файловой системы примерно её объёма выделяется под индексные дескрипторы термин индексный дескриптор обычно указывает на иноды блочных устройств управляющие постоянными файлами каталогами по возможности символьными ссылками подобная концепция играет важную роль при восстановлении поврежденных файловых систем номер индексного дескриптора заносится таблицу индексных дескрипторов определенном месте устройства по номеру индексного дескриптора ядро системы может считать содержимое инода включая указатели данных прочий контекст файла номер индексного дескриптора файла можно посмотреть используя команду ls команда ls покажет информацию хранящуюся индексном дескрипторе файловые системы не относящиеся традиционным фс unix такие как reiserfs могут обходиться без таблицы индексных дескрипторов но должны хранить аналогичную информацию схожим способом обеспечивающим эквивалентную такие данные могут называться статистической информацией по аналогии со stat системным вызовом поставляющим информацию программам имена файлов содержимое каталогов индексные дескрипторы не хранят имена файлов только информацию об их содержимом каталоги unix являются списками ссылочных структур каждая из которых содержит одно имя файла один номер индексного дескриптора ядро должно просматривать каталог поисках имени файла затем конвертировать это имя соответствующий номер индексного дескриптора случае успеха содержимое файлов располагается блоках данных на которые ссылаются индексные дескрипторы представление ядром этих данных памяти называется struct inode структурным инодом ос linux bsd системах используется термин vnode буква котором указывает на виртуальную файловую систему уровня ядра описание индексного дескриптора posix стандарты posix описывают поведение файловой системы как потомка традиционных файловых систем unix ufs регулярные файлы должны иметь следующие атрибуты длина файла байтах идентификатор id устройства это идентифицирует устройство содержащее файл id пользователя являющегося владельцем файла id группы файла режим файла определяющий какие пользователи могут считывать записывать запускать файл timestamp указывает дату последнего изменения инода ctime change time последней модификации содержимого файла mtime modification time последнего доступа atime access time счетчик ссылок указывают количество жестких ссылок указывающих на индексный дескриптор указатели на блоки диска хранящие содержимое файла системный вызов stat считывает номер индексного дескриптора файла некоторую информацию из него этимология inode что названии нод обозначает неизвестно ответ на вопрос об этом один из создателей unix деннис ритчи ответил честно говоря тоже не знаю это был всего лишь термин который мы начали использовать из за немного необычной структуры файловой системы при которой информация доступе файлам хранится виде плоского массива на диске отдельно от всей информации об иерархии каталогов лучшее что могу предположить для это индекс таким образом номер являлся индексом этом массиве нод выбираемым элементом массива приставка использовалась первой версии руководства со временем дефис перестали употреблять то есть index node индексный узел элемент index node node inode постепенное укорочение слияние словосочетания index node по другим версиям начальная буква node может происходить том числе от слов information информация incore indirection значение файловые системы использующие индексные дескрипторы имеют несколько неочевидных особенностей если несколько имен указывают на один тот же индексный дескриптор жёсткие ссылки то все имена считаются эквивалентными первое созданное имя никаким особым положением не обладает это отличается от поведения похожих символьных ссылок которые зависят от первоначального имени индексный дескриптор может совсем не иметь ссылок обычно такой файл должен быть удален диска именно поэтому программы типа undelete unix не позволяют установить точное имя удалённого файла его ресурсы должны освободиться это нормальный процесс удаления файла но если какие либо процессы ещё не закрыли файл то они могут удерживать доступ нему файл будет окончательно удален только после того как будет закрыто последнее обращение нему это относится исполняемым копиям которые удерживаются открытыми процессами их выполняющими по этой причине при обновлении программы рекомендуется удалять старую копию создавать новый индексный дескриптор для обновленной версии чтобы никакие экземпляры старой версии не продолжали выполняться обычно нет возможности сопоставить открытый файл его имя по которому он был открыт операционная система преобразует имя файла номер индексного дескриптора при первом же удобном случае затем забывает про использованное имя файла таким образом функции библиотек getcwd getwd начинают искать родительском каталоге файл индексным дескриптором совпадающим файлом каталога затем ищут родительский каталог для текущего так далее пока не достигнут каталога svr linux используют дополнительную информацию поля индексных дескрипторах для избежания подобного неудобства ранее было возможно применять жёсткие ссылки на каталоги это делало структуру каталогов ориентированным графом вместо дерева то есть связного графа ребрами узлами например каталог имел возможность быть собственным родителем современные файловые системы не допускают подобных за исключением корневого каталога который считается собственным родителем номер индексного дескриптора файла остается неизменным при перемещении файла другой каталог на том же устройстве или при дефрагментации диска поэтому перемещения или каталога содержащего файл или его содержимого или того другого вместе недостаточно для предотвращения доступа нему из уже запущенного процесса если процесса есть возможность вычислить номер индексного дескриптора это также обусловливает то что полностью управляемое поведение индексных дескрипторов невозможно реализовать на множестве файловых систем не произошедших от стандартной файловой системы unix таких как fat его преемников которые не имеют возможности хранить подобную постоянную неизменность когда каталог файла его содержимое перемещается практическое применение множество программ используемых системными операционной системе ос unix часто используют номера индексных дескрипторов для обозначения файлов популярная встроенная программа проверки жестких дисков fsck или команда pfiles могут послужить данном случае примерами так как них есть необходимость естественным образом конвертировать номера индексных дескрипторов пути файлов обратно это может быть дополнено использованием программы поиска файлов find ключом inum или командой ls соответствующим ключом которым на большинстве платформ является динамическое выделение inode одна из проблем inode могут закончиться этом случае нельзя будет создать новый файл или каталог на устройстве даже если там достаточно свободного места при этом уже имеющиеся файлы можно полноценно изменять таким образом файловые системы можно разделить на две группы статическое количество inode ext ext динамическое количество inode jfs xfs btrfs zfs проблема некоторые файловые системы основанные на индексных дескрипторах защищены от проблемы известной как unix time учетом предотвращения переполнения даты но далеко не все при настройке сервера отказ от использования подобных posix несовместимых файловых систем становится более важным последняя версия posix поддерживает системное время вызовы даты устойчивые проблеме см также идентификатор литература категория файловые системы категория unix