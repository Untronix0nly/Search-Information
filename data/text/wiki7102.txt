edonkey edonkey ed файлообменная сеть построенная по принципу на основе сетевого протокола прикладного уровня mftp рунете неформальные названия ослик осёл пользователи сети ословоды сеть состоит из изменяющегося во времени количества программ клиентов которые исполняются на компьютерах пользователей сети относительно небольшого несколько десятков количества серверов между собой по схеме клиент сервер клиент клиент передача файлов сети производится от клиента клиенту напрямую по частям то есть наличия полного файла клиента сети для его раздачи другим клиентам не требуется серверы файлообмене не участвуют клиенты могут как загружать части файлов доступных для загрузки от других клиентов так отдавать другим клиентам имеющиеся них части доступные для раздачи серверы помимо некоторых вспомогательных задач выполняют функцию поиска клиентами опубликованных доступных для скачивания другими клиентами частей файлов существует множество программ являющихся клиентами сети edonkey наиболее известными из них являются edonkey оригинальный клиент больше не поддерживается но остаётся популярным наши дни emule shareaza последние две программы наряду edonkey поддерживают другие протоколы но лишь edonkey является для них общим идентификация файлов файлы сети edonkey благодаря использованию корневой md хеш суммы md сумм частей файла это позволяет считать одинаковыми файлы разными названиями но одинаковым содержимым различать файлы разным содержимым но одинаковым названием поиск поиск файлов сети edonkey осуществляется по ключевым словам входящим имена файлов некоторым дополнительным характеристикам таким как размер файла его расширение битрейт результатом поиска возвращаемым сервером является список имён файлов соответствующей каждому имени корневой md суммой найденного файла ip адресом портом клиента которого хотя бы одна часть этого файла доступна для загрузки каждый клиент связан одним из серверов сети клиент сообщает серверу какие файлы он предоставляет общий доступ эти файлы включают себя как файлы явно предоставленные общий доступ пользователем через интерфейс программы клиента так файлы которые клиент сам загружает или уже загрузил от других клиентов но не удалены пользователем из списка загрузки программы клиента каждый файл загружаемый клиентом автоматически предоставляется общий доступ как только получена хотя бы одна его часть каждый сервер поддерживает список всех общих файлов клиентов подключенных нему когда клиент что то ищет он посылает поисковый запрос своему основному серверу ответ сервер проверяет все файлы которые ему известны возвращает клиенту список файлов удовлетворяющих его запросу возможен поиск по нескольким серверам сразу такие запросы их результаты передаются через протокол udp чтобы уменьшить загрузку канала количество подключений серверам эта функция особенно полезна если поиск на сервере которому клиент подключен настоящее время даёт низкий результат чтобы упростить поиск файлов некоторые веб сайты публикуют md суммы файлов виде ed ссылки некоторые из этих сайтов также содержат списки активных серверов для обновления списков пользователями загрузка загрузка файла основана на принципах сетевого протокола прикладного уровня mftp происходит без участия сервера клиент желающий скачать файл получает информацию наличии частей этого файла общем доступе других клиентов используя результаты поиска на сервере соединяется такими клиентами напрямую по полученным ip адресу порту для идентификации запрашиваемого файла используется корневая md хеш сумма файла также содержащаяся результатах поиска помимо хеш суммы запрос на скачивание включает себя начальное конечное смещение требующейся части файла клиент посылает запросы на скачивание отсутствующих него частей файла другим клиентам имеющим эти части до тех пор пока не соберёт из этих частей полный файл обращение другим клиентам независимо друг от друга так что разные части файла могут скачиваться от разных клиентов одновременно что ускоряет загрузку файла при первоначальном получении любой части файла скачивающий клиент сообщает поисковому серверу что этот файл частично доступен него для загрузки другими клиентами данное свойство протокола является одним из принципов сетей скачивая раздавай служит цели увеличения количества доступных источников файла для других клиентов при удалении файла из списка скачиваемых файлов части такого файла более не доступны для скачивания другим клиентам межсерверные соединения периодически серверы связываются друг другом на короткое время во время этого сеанса связи сервер объявляя своём существовании посылает список всех других известных ему серверов таким образом серверы поддерживают список других активных серверов когда клиент подключается серверу сервер может выдать ему список известных ему серверов хеш алгоритм ed хеш алгоритм используемый для вычисления идентификатора корневой md суммы файла файлы делятся на равные кусочки по байт кб остаток для каждого кусочка вычисляется битная md хеш сумма если размер файла кратен байтам то есть размер остатка равен всё равно рассчитывается сумма для этого пустого остатка затем все рассчитанные суммы объединяются один единый массив хеш список рассчитывается md хеш сумма всего этого массива эта сумма является корневой md суммой файла идентификатором сети edonkey если размер файла меньше байт то хеш список не составляется идентификатором файла служит md хеш сумма всего файла существует второй вариант алгоритма вычисления контрольной суммы файлов дающих другой результат для файлов размер которых кратен размеру секции то есть размерами байт байт оригинальный алгоритм edonkey до версии содержит ошибку особенность благодаря которой для файлов размерами кратными байтам добавляется контрольная сумма пустой секции эту особенность учитывают расчётах далеко не все программы например emule учитывает shareaza нет edonkey версии до версии эта особенность исправлена отличия от оригинального алгоритма следующем если размер файла меньше или равен байтам то качестве идентификатора используется md сумма всего файла если размер файла кратен байтам то контрольная сумма пустого остатка не добавляется различия алгоритмов столь минимальны возникают только конце расчёта суммы что позволяет рассчитать обе суммы одновременно практически без потери вторая версия суммы для таких особенных файлов может быть указана например комментариях так делает программа avdump вот например контрольные суммы для файлов состоящих из одних нулевых кодов для разных вариантов алгоритма получить их файлы можно например такой командой bash для unix систем for in do dd if dev zero of zero bs count done размер файла байт оригинальный алгоритм ed исправленный алгоритм ed сумма md fc af df beac def cd fc dbb ca dd ee fa ee bdaf ef fb fbdcab bf abb ea fc ffc ed ссылка используется для обмена файлами публикации на порталах пример ed file имя файла размер файла ed хеш файла aich хеш файла md хеш части md хеш части url ссылка на файл sources ip адрес источника порт источника чаще всего встречается короткий вид ed file имя файла размер файла ed хеш файла имя файла рекомендуется uri кодировать размер файла точный размер байтах aich advanced intelligent corruption handler дополнительный хеш для ed ссылки использует более мелкие части для получения хеша это позволяет более подробно исследовать файл для нахождения устранения ошибок уменьшает количество данных необходимых для восстановления файла рекомендуется публиковать его вместе со ссылкой тогда он сразу становится доверяемым хешем сразу же может использоваться для восстановления файла если же его не публиковать вместе со ссылкой то клиенту необходимо будет получить один тот же aich хеш из нескольких источников прежде чем этот хеш будет признан достоверным расчёт aich хеша для получения хеша стандартный ed чанк байт делится на части по кб кб каждая часть позже обрабатывается алгоритмом sha далее пары хешей снова проходят через алгоритм sha до тех пор пока не получается один единственный хеш набор md хешей этом поле перечисляются md хеши ed чанков через двоеточие позволяет проверять части на соответствие даже если нет возможности получить набор хешей другим путём например если единственным источником файла является url ссылка url ссылка позволяет при отсутствии ed источников загрузить файл по url ссылке обычно сервера доступны постоянно отличие от ed источников которыми основном являются персональные компьютеры подключенные сети интернет благодаря этому первичная загрузка происходит сервера дальнейшее распространение идет уже сети ed что разгружает сервер увеличивает доступность файла перед вставкой ссылка должна быть uri кодирована sources источники позволяет указать ed источники которым можно обратиться для загрузки файла это даёт возможность начать загрузку файла без подключения ed серверу просто подключившись перечисленным источникам напрямую данное поле имеет смысл использовать только если источник имеет постоянный ip адрес коллекции для публикации на порталах ссылки могут быть объединены коллекции lugdunum server lugdunum server серверное по сети edonkey большинство серверов ed сети работает на lugdunum он более масштабируем эффективен чем оригинальный metamachine edonkey server см также emule наиболее свободный клиент сети edonkey для windows imule защищённый анонимный клиент для сетей kad сетей mldonkey свободный клиент открытым исходным кодом amule клиент разработанный на основе xmule lmule emule jmule клиент файлообменной сети edonkey написанный на java lphant бесплатный клиент shareaza свободный клиент для windows поддерживающий несколько сетей ссылки официальный сайт закрытый прекративший работу описание протокола edonkey на hydranode project описание протокола edonkey на pdonkey project скачиваем фильмы музыку программы из интернета пиринговые сети edonkey bittorrent kazaa directconnect пер чеш рус изд под ред финкова спб наука техника ил isbn алгоритм ed k_hash edonkey понарошку закрылась на compulenta ru сентября rhash консольная open source программа вычисляющая ed aich хэши edonkey ссылки примечания категория файлообменные сети категория файлообменные протоколы