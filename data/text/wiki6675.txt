awk подобный скриптовый язык построчного разбора обработки входного потока например текстового файла по заданным шаблонам регулярным выражениям может использоваться сценариях командной строки название awk складывается из инициалов разработчиков языка alfred ho brian ernighan первая версия awk была написана году at bell laboratories структура программы awk рассматривает входной поток как список записей каждая запись делится на поля на основе этой информации выполняется некоторый определённый программистом алгоритм обработки по умолчанию разделителем записей является символ новой строки то есть записи это то же самое что строки разделителем полей символ пробела или табуляции или таких символов символы разделители можно явно определить программе символ разделитель полей можно определить командной строке awk программа состоит из операторов правил имеющих вид шаблон действие шаблон действие каждая запись поочерёдно сравнивается со всеми шаблонами каждый раз когда она соответствует шаблону выполняется указанное действие если шаблон не указан то действие выполняется для любой записи если не указано действие то запись выводится awk также существует шаблона begin end begin выполняется до начала обработки входного потока end после обработки последней записи входного потока действие может состоять из операторов разделяемой точкой запятой переводом строки или закрывающей скобкой конструкции языка условия if условие then список действий else список действий циклы do do тело цикла while условие while while условие тело цикла for индексная форма цикл for форме ориентированной на обработку индексных массивов имеет вид for секция инициализации секция условия секция обновления итератора тело цикла for ассоциативная форма цикл for форме ориентированной на обработку ассоциативных массивов имеет вид for итератор in массив тело цикла встроенные переменные переменная содержание значение по умолчанию argc число аргументов командной строки argv массив аргументов командной строки environ массив содержащий переменные окружения filename обрабатываемый входной файл fnr номер записи текущем файле fs разделитель полей записи на вводе пробел или табуляция nf число полей текущей записи nr номер записи общее число считанных записей ofmt формат распечатки чисел ofs разделитель полей записи на выводе символ пробел или табуляция ors разделитель записей на выводе awk программы символ rs разделитель записей на вводе символ rstart позиция начала подстроки найденной функцией match rlength длина подстроки найденной функцией match subsep разделитель индексов многомерных массивах встроенные функции примеры hello world begin print hello world exit печать длины самой длинной строки if length max max length end print max печать всех строк длиннее символов if length print печать всех строк имеющих хотя бы одно поле nf печать количества строк файле end print nr печать строк номера которых кратны if fnr print печать остатка входной строки следующего за первыми тремя полями поиск начала го поля match печать остатка входной строки найденной позиции print substr rlength ссылки эффективное на языке awk руководство пользователя для gnu awk версия апрель arnold robbins перевод балуева язык обработки текстов awk документация gawk gnu awk gawk for windows awk nawk and gnu awk cheat sheet интерактивная система просмотра системных руководств man ов язык сканирования обработки текста из операционная система unix руководство пользователя категория утилиты unix категория инструменты unix для обработки текста категория предметно ориентированные языки