tcl от командный язык инструментов читается тикль или ти си эль скриптовый язык высокого уровня tcl часто применяется совместно графической библиотекой tk tool kit связку tcl tk по русски иногда называют так тикль английский вариант тикль ток области применения языка быстрое создание графических интерфейсов для консольных программ пакетов программ встраивание прикладные программы тестирование также tcl применяется веб разработке особенности tcl данными всех типов включая код программы можно манипулировать как строками это делает его языком естественной поддержкой эта парадигма учитывалась ходе разработки эволюции языка программа на tcl состоит из команд разделённых символами новой строки или точками запятой каждая команда состоит из набора полей разделённых пробелами первое поле должно быть именем команды необязательные остальные поля передаваемые этой команде аргументы команда возвращает значение иногда пустое то есть как лиспе tcl используется префиксная нотация ключевых слов как таковых нет понятие команды tcl аналогично понятию процедуры или функции языков это относится управляющим конструкциям языка сочетании элементарным синтаксисом это обеспечивает хорошую расширяемость языка том числе библиотеками написанными на других языках таких как или java tcl также качественно реализована модель управления программой на основе событий события могут генерироваться таймером при появлении данных канале изменении значения переменной при завершении какой либо внешней программы или просто при работе пользователя интерфейсом tk можно задавать свои события управлять ими как большинство современных скриптовых языков tcl содержит развитые средства работы регулярными выражениями работает ассоциативными массивами другими динамическими структурами данных базовом tcl поддержка ооп отсутствовала до версии однако благодаря простоте расширения синтаксиса языка существует множество расширений tcl объектно механизмами реализованных виде подключаемых библиотек на си или на самом tcl до версии самыми из них были incr tcl xotcl snit ещё одна реализация механизмов ооп средствами самого tcl включённая стандартную библиотеку tcl библиотека stooop начиная версии появляется новая реализация ооп для tcl tcloo включённая начиная версии ядро языка расширение реализовано на особенности используемой модели xotcl мощная объектная система динамическим определением классов методов близкая clos incr tcl ооп стиле близком расширенном введением конфигураторов snit tcl реализация объектной модели на основе делегирования не наследования stooop tcl ооп стиле максимально близком также введён механизм переключения классов tcloo компактная но мощная объектно ориентированная система которую можно использовать как непосредственно так как фреймвок для построения расширенных моделей ооп пространства имён поддерживаются на уровне ядра языка при реализации механизмов ооп на tcl используется поддержка иерархии вложенности пространств имён этом языке на tcl легко программировать функциональном стиле он обеспечивает такие механизмы как функции высшего порядка абстракции функций хотя tcl редко используют таким образом вот пример того как можно осуществить композицию двух функций proc версии tcl также введена команда apply значительно облегчающая этом стиле вот пример её использования из официальной документации proc map lambda list set result foreach item list lappend result apply lambda item return result map return string length bb ccc dddd результатом работы этого примера будет bb ccc dddd история язык разработан джоном оустерхаутом john ousterhout то время когда он работал университете калифорнии беркли первоначальной целью было создание универсального языка для встраивания консольные приложения вслед за этим оустерхаут расширил свой язык средствами создания графических интерфейсов так появился tcl tk за года развития университетских стенах тикль сообщество выросло до нескольких сотен тысяч программистов году было разработано первое объектно ориентированное расширение incr tcl оустерхаут становится ведущим инженером проекта sunscript течение следующих лет став одним из проектов корпорации sun тикль не только остался свободно системой но значительно стал кросс платформенным заметный удар по популярности языка нанёс ричард столлман опубликовав сентябре ряде новостных групп рекомендацию почему вы не должны использовать tcl ней он на основании утверждений что tcl разработан не как серьёзный язык tcl имеет особый синтаксис притягательный для хакеров из за своей простоты но синтаксис tcl кажется странным для большинства пользователей также связи продвижением emacs lisp вынес вердикт проект gnu не собирается использовать tcl программном обеспечении gnu помимо субъективных претензий дизайну языка столлман указал на объективный на тот момент недостаток низкое быстродействие тем не менее рост количества разработчиков активно использующих тикль составил за этот период связи java бумом связанной ним острой конкурентной борьбой корпорация уже не могла уделять тиклю прежнего внимания джон оустерхаут покидает sun создаёт при поддержке sun компанию scriptics продолжая развитие технологии tcl tk это была одна из первых коммерческих программных фирм чья деятельность строилась вокруг бесплатного свободного по цветовое решение логотипа принятое гг xx века марте года оустерхаут пишет ставшую классической статью сценарии высокоуровневое для xxi века перевод этой статьи журнале открытые системы которой назвал скриптовые языки языками системной интеграции потому что они ориентированы прежде всего на работу объектами операционной среды не элементарными данными это позволяет без написания тысяч строк кода двумя тремя командами склеивать такие объекты одно целое том же году он выиграл за разработку языка tcl две крупных награды первая это acm software system award вручаемая за наиболее значимое программное обеспечение этой наградой до этого были отмечены такие системы как стек протоколов tcp ip первая электронная таблица первая реляционная база данных world wide web unix postscript smalltalk вторая это ежегодная usenix software tools user group stug award знак признания выдающегося программного обеспечения году выходит tcl этой реализация впервые появилась компиляция байткод что позволило раз поднять быстродействие следующую модификацию tcl введена полноценная поддержка юникода ней впервые реализована многопоточность связи этим релизом оустерхаут заявил году фирма scriptics была переименована ajuba solutions затем куплена фирмой interwoven не работе со свободным по связи этим разработка tcl была передана сообществу программистов так была сформирована tcl core team на конференции по tcl tk проходившей ванкувере была представлена виртуальная файловая система starkit обеспечившая новый удобный для обычного пользователя способ распространения tcl программ синтаксис tcl скрипт команды разделённые переводом строки или точкой запятой команда слова разделённые пробелами commandname argument argument argumentn первое слово имя команды остальные её аргументы любой аргумент может быть заменён другой командой помещённой квадратные скобки любые аргументы фигурных скобках передаются команде как есть виде единого аргумента символы имеющие особое значение вызывает подстановку значения переменной вызывает подстановку результата выполнения команды внутри скобок группирует аргументы один подстановкой значений переменных группирует аргументы один без подстановки значений переменных экранирует следующий символ или вызывает подстановку управляющего символа начало однострочного комментария должен быть после символа перевода строки или точки запятой замечания процессе разбора скрипта разбивка на слова подстановка значений переменных результатов выполнения команд производятся за один проход по команде все символы находящееся внутри скобок кавычек рассматривается как одно слово первое слово команды рассматривается как встроенная или определённая процедура примеры команд присваивание обозначается словом set не знаком равенства синтаксис set переменная значение пример set set комментарий обозначается символом синтаксис текст комментария пример это комментарий вывод печать реализуется командой puts синтаксис puts выражение пример puts привет это puts puts puts цикл пока реализуется командой while имеющей два аргумента первый tcl выражение выражения фактически пишутся на миниатюрном языке состоящем из математических операций операций сравнения стиле языка второй аргумент это скрипт выполняемый при каждой итерации его как правило помещают фигурные скобки чтобы избежать немедленного выполнения синтаксис while tclкоманда пример while условная команда синтаксис if командаtcl пример if команда ветвления пример switch glob var see saw seen puts все это значит одно то же команда может не иметь аргументов например pwd просто возвращает текущий рабочий каталог командой set wdir pwd вы сохраните имя текущего каталога переменной wdir команда может возвращать список например glob образец возвратит список имён файлов текущем каталоге удовлетворяющих шаблону образец процедуры процедуры определяются следующим образом proc имяпроцедуры ассоциативные массивы следующий фрагмент кода создаст инициализирует ассоциативный массив называемый других языках также карта словарь или хеш set capital france paris set capital italy rome set capital germany berlin set capital poland warsaw set capital russia moscow set capital spain madrid для запроса вывода одного из значений ассоциативного массива используется puts capital italy список всех стран ключей массива можно получить командой array names capital результат не будет отсортирован потому что массивы tcl базируются на хеш таблицах poland spain russia germany italy france сортировку можно выполнить командой lsort array names capital чтобы сослаться на массив передать его как ссылку используется имя содержащей его переменной proc demo arrname upvar arrname arr tie the reference to local name do something with arr для доступа массиву по значению используется array get или array set например чтобы скопировать один массив другой array set newarr array get oldarr tcl введены массивы передаваемые по значению словари dict для преобразования скалярной переменной массив наоборот следует удалить существующую переменную при помощи команды unset область видимости переменных по умолчанию внутри процедуры видны только определённые ней переменные за пределами определения процедуры её переменные недоступны иначе чем через механизм передачи параметров можно иметь переменные процедуре таким же именем как основной программе при этом значения этих переменных будут различаться по сути это будут разные переменные чтобы изменить это поведение используются команды global или upvar примеры здравствуй мир программа hello world выглядит так puts здравствуй мир или так puts здравствуй мир массивы обращение элементам массива вывод значения элемента массива oldarray precision имя которого массива задаётся новой переменной newarray set newarray oldarray puts set newarray precision сложение чисел массива метод сложение использованием цикла foreach set numbers set result foreach number numbers set result expr result number puts result метод гораздо более элегантный способ использованием команды join set numbers puts expr join numbers список содержимого массива массиве tcl_platform содержится информация свойствах платформы на которой запущен tcl список имён свойств может быть получен помощью array names tcl_platform следующий фрагмент выводит их вместе со значениями foreach array names tcl_platform puts tcl_platform если свойства должны быть отсортированы foreach lsort array names tcl_platform puts tcl_platform здесь демонстрируется вложенность команд они могут быть вложены на любую глубину подобного же результата можно достичь помощью команды parray появившейся tcl пересечение множеств процедура filter возвращает те элементы списка для которых script принимает значение true proc filter list script set res foreach list if uplevel script lappend res return res команда uplevel позволяет вычислить выражение контексте котором вызывается слово filter процедура in это сокращённая запись для включения множеств proc in list expr lsearch exact list проверка filter in факториал proc expr здесь демонстрируется что именем команды могут быть любые строки также известный по другим языкам оператор реализация дистрибутивы инструменты tcl язык то есть программы на tcl готовы выполнению без компиляции компоновки интерпретатор tcl портирован на большинство платформ он под свободной некопилефтной лицензией позволяющей использовать его без ограничения разработке проприетарных приложений также создавать проприетарные производные системы разработчики относят её bsd подобным хотя по сравнению лицензией bsd лицензия tcl накладывает меньшее количество запретов реализация настоящее время работа над ядром языка tcl ведётся группой разработчиков именуемой tcl core team самые свежие версии tcl транслятора основных библиотек доступны репозитории на sourceforge net см список sourceforge проектов включаемых основную поставку tcl tk транслятор tcl компилирует программу промежуточное представление байткод затем интерпретирует её отличие от например python это промежуточное представление не сохраняется на диск программа может храниться только исходных текстах возможно упакованных starkit модуль или помощью какого нибудь другого враппера зависимости от параметров компиляции интерпретатор tcl может поддерживать или не поддерживать многопоточность хотя большинстве учебников по tcl для начинающих говорится что то вроде tcl есть всего один тип переменных строка на самом деле трансляторы tcl уже давно как устроены по другому внутри tcl использует систему динамических типов автоматическим прозрачным преобразованием строковому виду tcl входит практически во все дистрибутивы linux для microsoft windows требуется отдельный установочный пакет версия tcl отличается от предыдущей новыми функциями оптимизация битного кода vfs дополнения плане интроспекции некоторым повышением быстродействия за счёт оптимизации работы байткодом новые возможности добавленные версии частности поддержка многопотокового выполнения средства работа символами unicode замедлили работу tcl примерно на по сравнению давшей скачок скорости восьмой версией разработчики приложили все усилия для того чтобы максимально повысить скорость выполнения программ добиться чтобы они работали не только не медленнее но даже быстрее чем это было при появлении версии эта цель была достигнута практически для всех средств tcl tk версия среднем раз быстрее чем версия текущая версия tcl альтернативные реализации диалекты существуют альтернативные реализации tcl для популярных виртуальных машин общего назначения это написанный на java интерпретатор jacl последняя версия от года проект eagle реализующий большинство команд tcl для clr доступны сборки для net ведутся эксперименты по трансляции tcl программ код виртуальной машины parrot разрабатываемой для шестой версии perl для встраиваемых систем встраивания приложения разработан специальный диалект tcl jim это интерпретатор реализующий большое подмножество tcl расширенное дополнительными механизмами объектно функционального занимающий виде менее килобайт ещё один диалект tcl скриптовый язык мобильных устройств hecl разработанный дэвидом велтоном реализованный на java me что же касается платформы android поддержку tcl на ней наряду другими скриптовыми языками обеспечивает скриптовая прослойка sl существует также нативная реализация tcl для этой ос называемая androwish дистрибутивы все дистрибутивы свободно собраны из компонентов имеющих ту или иную свободную лицензию большинство из них кроме wintcltk tcl tk aqua хотя unix системах tcl tk обычно является частью дистрибутива ос activetcl самый дистрибутив tcl подобно другим продуктам компании activestate включает себя большой набор библиотек расширений windows версиях включает себя средства интеграции wsh какие либо средства облегчающие жизнь программиста отсутствуют фирма продаёт пакет tcldevkit содержащий средства отладки создания автономных программ последнее на базе технологии starkit komodo универсальную ide для скриптовых языков включающее средства визуального tk форм wintcltk более компактный чем activetcl дистрибутив ориентированный на работу xotcl объектно ориентированным расширением tcl список включённых него библиотек несколько уже чем activetcl но базовый набор здесь присутствует этот дистрибутив входят tloona ide среда разработки традиционного типа xotclide среда объектно стиле smalltalk обе отладчиками также на сайте разработчиков свободно доступен пакет для создания единого запускаемого файла tkwrapper основанный на freewrap технологии альтернативной starkit основанной на простом zip сжатии последняя на сегодняшний день версия декабря tcl tclkit это tcl tk базовым набором библиотек одном компактном выполняемом файле дистрибутив создан использованием технологии starkit содержит библиотеку metakit позволяющую управлять содержанием этого файла ещё один популярный дистрибутив tcl одном файле это etcl на аналогичных принципах построен дистрибутив dqkit альтернативная сборка известная как tclkit на стероидах имеется несколько вариантов отличающихся составом библиотек поддержкой многопоточности mytcl полноценная интегрированная среда разработки ide на tcl включающая себя дистрибутив языковой среды имеет возможность генерации автономных приложений starkit формате текущая версия build июня для win win интегрированным систему tcl настоящее время не является открытым по androwish среда для запуска tcl tk скриптов компоновки tcl tk приложения apk файл для исполнения под android применение tcl наряду perl python стал одним из трёх классических скриптовых языков общего назначения эта троица фигурирует не только качестве списка свободных дистрибутивов собираемых activestate но например как языки на которых помимо диалекта pl pgsql можно писать триггеры хранимые процедуры популярного сервера бд postgresql tcl как встраиваемый язык нашёл применение сфере сапр cad cam cae он примеру используется как средство настройки баз данных постпроцессоре unigraphics кроме того он де факто является языком автоматизации интеграции во всех ведущих программных пакетах разработки микросхем плис asic использование веб разработке web tcl обычно используется вместе веб сервером aolserver или одним из облегчённых веб серверов вроде lighttpd ориентированным на fastcgi для интеграции tcl apache существует модуль rivet под управлением aolserver работает частности openacs система управления содержимым вебсайтов богатыми возможностями расширения на языке tcl расширенном xotcl или project open система групповой работы веб интерфейсом существуют также такие проекты как tclhttpd его преемник wub являющиеся полноценными web фреймворками на базе нового объектного расширения языка tcloo разрабатывается веб фреймвок woof web oriented object framework примером cms для tclhttpd является ucome помимо использования качестве языка реализации веб приложений tcl может использоваться как скриптовый язык для расширения существующих приложений примеру на нём пишут модули для irc бота eggdrop достоинства недостатки недостатком ранних версий tcl tk несомненно было низкое быстродействие версии ниже использовали прямую интерпретацию исходного текста однако использование байткода разрешило эту проблему сейчас по быстродействию tcl не сильно отличается от php хотя заметно уступает таким скриптовым языкам как например python или lua сложные или критические по времени выполнения участки кода рекомендуется выполнять виде внешних модулей на tcl tk отличает непривычность синтаксиса для программистов на традиционных языках он ближе стандартному синтаксису оболочки unix этот синтаксис может быть произвольно изменён как других программируемых языках таких как forth или common lisp это может быть преимуществом для программиста индивидуала или небольшой группы программистов но делает tcl tk вряд ли пригодным для использования качестве языка общего назначения при разработке промышленном масштабе хотя наличие расширений снижает остроту этой проблемы tcl может использоваться крупных проектах пределах своей экологической ниши встроенные скрипты склеивание компонент web хотя tcl обладает всеми свойствами функционального языка его интерпретатор до версии не производил оптимизацию хвостовой рекурсии что затрудняло использование чисто функционального стиля уменьшало его эффективность впрочем гибкость языка позволяет обойти эту проблему реализовав подобие такой оптимизации на высоком уровне наконец появившаяся тестовой версии команда tailcall позволяет без особых проблем использовать хвостовую рекурсию наиболее тесная интеграция tcl графической библиотекой tk которая зачастую используется сочетании другими языками несомненное преимущество tcl для создания gui оболочек консольным программам или пакетам консольных программ tcl может оказаться наилучшим выбором влияние хотя tcl не относится числу широко используемых языков он наряду такими более ранними языками как lisp smalltalk оказал заметное влияние на он стал первым языком ориентированным на простоту встраивания приложения не было аналогов по простоте использования библиотеки графических виджетов tk которая помимо tcl стала популярной других универсальных скриптовых языках tkinter остаётся базовым средством создания gui приложений python имеются также библиотеки привязки tk perl tkx ruby sqlite встраиваемая легковесная sql система управления базами данных изначально разрабатывалась как расширение tcl см также tk forth sqlite perl expect ссылки www tcl tk официальный сайт wiki tcl tk tcl wiki ресурс посвящённый tcl tcl tutorial tcl tk documentation activetcl documentation tkdocs site online tcl and tk tutorials tmml sourceforge net doc официальная документация по tcl tk стандартной библиотеке tcl en tcl programming викиучебник на tcl pleac sourceforge net pleac_tcl pleac tcl коллекция решённых на тикле задач удобна для сравнения другими языками на русском языке www opennet ru links sml shtml ссылки на русскую документацию community livejournal com ru_tcl сообщество программистов на tcl www cs tut fi yk ns ru tcl html краткое введение tcl www cs tut fi yk ns ru otcl html введение otcl tclstudy narod ru index html уроки для освоения tcl tk http chatlogs jabber ru tcl conference jabber ru история сообщений jabber конференции по tcl статьи обзоры сценарии высокоуровневое для xxi века статья джона остераута создателя tcl сценарных языках древняя новая будущая цикл статей андрея зубинского компьютерном обозрении доступ postgresql из программ на языке tcl статья на citforum вильям циммерли технология tcl используйте tcl tk для организации рабочего стола автоматизации вашей работы блоги посвящённые tcl geomapx blogspot com описание некоторых компонент фрэймворка для aol server патчи для tclsqlite aol server библиотеки скрипты etcl ru про tcl tk от evolane его применения простых задачах достойные статьи от kovalenko практика использования эдуард зозуля примеры реальных проектов книги на русском языке оригинал brent welch ken jones jeffrey hobbs practical programming in tcl and tk th edition isbn электронная версия москвин азбука tcl isbn алексей петровский командный язык tcl tool command language isbn на английском языке издание tcl tk second edition developer guide isbn издание tcl tk for real programmers isbn john ousterhout ken jones tcl and the дtk toolkit nd edition isbn bert wheeler tcl tk programming cookbook isbn mark harrison michael mclennan effective tcl tk programming writing better programs in tcl and tk isbn adrian zimmer tcl tk for programmers isbn salvatore sanfillipo tcl wise guide to the tcl programming language первые глав on line paul raines jeff tranter tcl tk in nutshell desktop quick reference isbn david maggiano cgi programming with tcl isbn ivler kamran husain cgi developer resource web programming in tcl and perl isbn примечания источники категория языки семейства tcl категория скриптовые языки категория объектно ориентированные языки категория свободные компиляторы интерпретаторы