ssi server side includes включения на стороне сервера несложный язык для динамической сборки веб страниц на сервере из отдельных составных частей выдачи клиенту полученного html документа реализован веб сервере apache при помощи модуля mod_include включённая настройках по умолчанию веб сервера возможность позволяет подключать html файлы поэтому для использования инструкций файл должен оканчиваться расширением shtml stm или shtm необходимо помнить что некоторые сервисы не исполняют команды ssi если расширение файла будет отличным от приведенных выше например html синтаксис ssi позволяет включать текст страницы другие ssi страницы вызывать внешние cgi скрипты реализовывать условные операции if else работать переменными благодаря крайней простоте языка сборка ssi страниц происходит очень быстро однако многие возможности полноценных языков например работа файлами ssi отсутствуют отдельные элементы синтаксиса ssi используются других скриптовых языках например asp основные команды ssi config устанавливает формат сообщений об ошибках дат размера set устанавливает значение переменной printenv выводит список переменных окружения echo вставляет значение переменной flastmod вставляет дату время изменения файла fsize вставляет размер файла include вставляет содержимое другого файла if elif else endif условные операторы описание config контролирует различные аспекты сканирования его атрибутами могут быть errmsg устанавливает сообщение выводящееся при возникновении ошибки большинстве случаев целесообразно установить пустую строку sizefmt устанавливает формат котором будет выводиться размер файла timefmt устанавливает формат котором будет выводиться дата формат соответствует передаваемому библиотечной функции strftime переменные для sizefmt выводит размер файла килобайтах выводит размер файла байтах переменные для timefmt формат описание пример краткое название дня недели mon полное название дня недели monday аббревиатура названия месяца dec полное название месяца december день месяца не дата формате день месяца часы часовом формате часы часовом формате день года номер месяца минуты am pm до полудня после am время формате pm секунды время секундах время формате неделя года номер дня недели год формате гг год формате гггг временная зона msk обратите внимание на то что команды config sizefmt config timefmt влияют на все связанные ними ssi команды от того места откуда они были вызваны до самого конца страницы поэтому каждый вызов команд flastmod fsize лучше снабжать своей командой config set устанавливает значение переменной её атрибутами являются var определяющий имя переменной value определяющий её значение подстановка переменных подстановка переменных производится внутри заключенных кавычки строк большинстве аргументов ssi директив этих случаях знак доллара можно вставить предварив его слешом для предотвращения двусмысленности можно заключать имя переменной фигурные скобки результате такого присвоения переменная zed будет иметь значение xbc_y если переменная равна переменная abc равна printenv выводит список так называемых переменных окружения их значениями вызывается без параметров переменные окружения document_root название основной папки для вебстраниц на сервере обычно ваша папка public_html путь ней user_agent http_user_agent название браузера которым пользуется посетитель remote_addr ip адрес посетителя remote_host адрес посетителя нормальной форме например adsl peterlink ru server_addr ip адрес вашего сайта server_name http_host адрес сервера типа userguide webservis ru document_uri request_uri script_name запрошенная вами страница типа examples mysqlexample shtml document_name имя файла без каталогов документа запрошенного пользователем script_filename полный путь вебстранице на сервере например home home webservis public_html так далее server_software название сервера например apache unix server_admin почтовый адрес владельца сервера указанный при установке date_local сегодняшние время дата вашем часовом поясе для сервера date_gmt текущее время по гринвичу last_modified дата последней модификации документа запрошенного пользователем то есть во вложенном ssi эта переменная будет содержать имя главного документа не вложенного http_cookie строка cookie установленная для текущего домена echo выводит значение установленной переменной ssi допустимые атрибуты var обязательный имя выводимой переменной encoding необязательный перекодировка значения переменной перед выводом действует версиях apache выше версиях apache выше по умолчанию символы кодируются windows из за чего ssi переменные окружения русскими символами при отображении документе портятся выглядят как кракозябры во избежание этого всегда указывайте encoding none обратите внимание что будучи заданным этот атрибут должен предшествовать атрибуту var варианты значений атрибута encoding entity по умолчанию будет произведено преобразование специальных html символов сущности url будет произведено преобразование то есть пригодное для указания строке url none не будет производиться никаких преобразований flastmod выводит дату последней модификации файла определенном помощью timefmt формате атрибуты аналогичны атрибутам fsize fsize выводит размер файла определенном помощью sizefmt формате допустимые атрибуты file определяет путь файлу относительно сканируемого документа virtual определяет стандартный кодированный url относительно сканируемого документа или при наличии начале слеша относительно корня документов узла include включает текст другого документа или файла сканируемый файл включаемому файлу применяются все установленные правила ограничения доступа если для каталога из которого включается файл установлена опция includesnoexec включение данного документа привело бы запуску программы то документ не включается выводится сообщение об ошибке cgi сценарии вызываются как обычно помощью url который может содержать кодированную строку запроса query string положение файла указывается помощью атрибутов file указывает путь относительно сканируемого документа путь не может содержать не может быть абсолютным путём всегда использовать атрибут virtual virtual содержит кодированный url относительный или абсолютный url не может содержать имя протокола или имя хоста может содержать строку запроса условные операторы базовыми элементами контроля являются элементы elif else являются необязательными элемент endif заканчивает элемент if является обязательным test_condition может быть одним из следующих string истинно если string не пуста string string string string string string string string всё истинно если выполняется условие сравнения string string истинно если string содержит себе string string string истинно если string содержит себе string string регулярное выражение unix см ниже если string имеет форму string то тогда она как регулярное выражение их синтаксис аналогичен синтаксису регулярных выражений unix команде egrep см регулярные выражения test_condition истинно если test_condition истинно test_condition истинно если test_condition ложно test_condition test_condition истинно если как test_condition так test_condition истинны test_condition test_condition истинно если хотя бы test_condition или test_condition истинно имеют больший приоритет чем имеет наивысший приоритет все что не распознается как переменная считается строкой если строка имеет пробелы или символы табуляции то её надо заключать кавычки чём стоит помнить так это том что лучше не использовать ssi команды при создании страниц редакторах типа front page они их обычно не понимают выкидывают том что одну ssi команду нельзя вызвать из другой как нельзя вызвать ssi команду из скрипта скрипт из скрипта примеры задание сообщения обработчика ошибок задание формата вывода даты времени выведет выведет задание переменных http выведет http ru wikipedia org index php title ssi_ вставка даты модификации файла вставка содержимого файла проверка условия категория веб